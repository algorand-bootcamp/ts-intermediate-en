diff --git a/tealscript/__test__/dao.test.ts b/tealscript/__test__/dao.test.ts
index e07511b..e601a65 100644
--- a/tealscript/__test__/dao.test.ts
+++ b/tealscript/__test__/dao.test.ts
@@ -89,7 +89,7 @@ describe('Dao', () => {
 
     await algokit.sendTransaction({ from: sender, transaction: registeredAsaOptInTxn }, algod);
 
-    await appClient.register({ registeredASA }, {
+    await appClient.optIn.optInToApplication({ registeredASA }, {
       sender,
       sendParams: {
         fee: microAlgos(3_000),
@@ -116,9 +116,31 @@ describe('Dao', () => {
     const votesAfter = await appClient.getVotes({});
     expect(votesAfter.return?.valueOf()).toEqual([BigInt(1), BigInt(1)]);
 
-    await appClient.vote({ inFavor: false, registeredASA }, { sender });
+    await expect(appClient.vote({ inFavor: false, registeredASA }, { sender }))
+      .rejects
+      .toThrow();
 
     const votesAfter2 = await appClient.getVotes({});
-    expect(votesAfter2.return?.valueOf()).toEqual([BigInt(1), BigInt(2)]);
+    expect(votesAfter2.return?.valueOf()).toEqual([BigInt(1), BigInt(1)]);
+  });
+
+  test('clearState', async () => {
+    await appClient.clearState({ sender });
+
+    const votesAfter = await appClient.getVotes({});
+    expect(votesAfter.return?.valueOf()).toEqual([BigInt(1), BigInt(1)]);
+
+    await expect(appClient.vote({ inFavor: true, registeredASA }, { sender }))
+      .rejects
+      .toThrow();
+
+    await expect(appClient.optIn.optInToApplication({ registeredASA }, {
+      sender,
+      sendParams: {
+        fee: microAlgos(3_000),
+      },
+    }))
+      .rejects
+      .toThrow();
   });
 });
diff --git a/tealscript/contracts/artifacts/Dao.abi.json b/tealscript/contracts/artifacts/Dao.abi.json
index 8b2f09d..741cbe2 100644
--- a/tealscript/contracts/artifacts/Dao.abi.json
+++ b/tealscript/contracts/artifacts/Dao.abi.json
@@ -27,7 +27,7 @@
       }
     },
     {
-      "name": "register",
+      "name": "optInToApplication",
       "args": [
         {
           "name": "registeredASA",
diff --git a/tealscript/contracts/artifacts/Dao.approval.teal b/tealscript/contracts/artifacts/Dao.approval.teal
index 3b4ff6e..24ad689 100644
--- a/tealscript/contracts/artifacts/Dao.approval.teal
+++ b/tealscript/contracts/artifacts/Dao.approval.teal
@@ -17,7 +17,7 @@ int 6
 *
 txn OnCompletion
 +
-switch create_NoOp NOT_IMPLEMENTED NOT_IMPLEMENTED NOT_IMPLEMENTED NOT_IMPLEMENTED NOT_IMPLEMENTED call_NoOp
+switch create_NoOp NOT_IMPLEMENTED NOT_IMPLEMENTED NOT_IMPLEMENTED NOT_IMPLEMENTED NOT_IMPLEMENTED call_NoOp call_OptIn
 
 NOT_IMPLEMENTED:
 	err
@@ -36,7 +36,7 @@ abi_route_createApplication:
 createApplication:
 	proto 1 0
 
-	// contracts/dao.algo.ts:14
+	// contracts/dao.algo.ts:16
 	// this.proposal.value = proposal
 	byte "proposal"
 	frame_dig -1 // proposal: bytes
@@ -61,7 +61,7 @@ abi_route_bootstrap:
 bootstrap:
 	proto 1 0
 
-	// contracts/dao.algo.ts:18
+	// contracts/dao.algo.ts:20
 	// verify sender
 	txn Sender
 	txna Applications 0
@@ -70,7 +70,7 @@ bootstrap:
 	==
 	assert
 
-	// contracts/dao.algo.ts:19
+	// contracts/dao.algo.ts:21
 	// assert(!this.registeredAsaId.exists)
 	txna Applications 0
 	byte "registeredAsaId"
@@ -80,7 +80,7 @@ bootstrap:
 	!
 	assert
 
-	// contracts/dao.algo.ts:20
+	// contracts/dao.algo.ts:22
 	// registeredAsa = sendAssetCreation({
 	//       configAssetTotal: 1_000,
 	//       configAssetFreeze: this.app.address,
@@ -89,12 +89,12 @@ bootstrap:
 	int acfg
 	itxn_field TypeEnum
 
-	// contracts/dao.algo.ts:21
+	// contracts/dao.algo.ts:23
 	// configAssetTotal: 1_000
 	int 1_000
 	itxn_field ConfigAssetTotal
 
-	// contracts/dao.algo.ts:22
+	// contracts/dao.algo.ts:24
 	// configAssetFreeze: this.app.address
 	txna Applications 0
 	app_params_get AppAddress
@@ -110,13 +110,13 @@ bootstrap:
 	itxn CreatedAssetID
 	frame_bury -1 // registeredAsa: asset
 
-	// contracts/dao.algo.ts:24
+	// contracts/dao.algo.ts:26
 	// this.registeredAsaId.value = registeredAsa
 	byte "registeredAsaId"
 	frame_dig -1 // registeredAsa: asset
 	app_global_put
 
-	// contracts/dao.algo.ts:25
+	// contracts/dao.algo.ts:27
 	// return registeredAsa;
 	frame_dig -1 // registeredAsa: asset
 	itob
@@ -126,24 +126,24 @@ bootstrap:
 	log
 	retsub
 
-// register(asset)void
+// optInToApplication(asset)void
 //
 // // eslint-disable-next-line no-unused-vars
-abi_route_register:
+abi_route_optInToApplication:
 	// registeredASA: asset
 	txna ApplicationArgs 1
 	btoi
 	txnas Assets
 
-	// execute register(asset)void
-	callsub register
+	// execute optInToApplication(asset)void
+	callsub optInToApplication
 	int 1
 	return
 
-register:
+optInToApplication:
 	proto 1 0
 
-	// contracts/dao.algo.ts:30
+	// contracts/dao.algo.ts:32
 	// assert(this.txn.sender.assetBalance(this.registeredAsaId.value) === 0)
 	txn Sender
 	byte "registeredAsaId"
@@ -154,7 +154,7 @@ register:
 	==
 	assert
 
-	// contracts/dao.algo.ts:31
+	// contracts/dao.algo.ts:33
 	// sendAssetTransfer({
 	//       xferAsset: this.registeredAsaId.value,
 	//       assetReceiver: this.txn.sender,
@@ -164,18 +164,18 @@ register:
 	int axfer
 	itxn_field TypeEnum
 
-	// contracts/dao.algo.ts:32
+	// contracts/dao.algo.ts:34
 	// xferAsset: this.registeredAsaId.value
 	byte "registeredAsaId"
 	app_global_get
 	itxn_field XferAsset
 
-	// contracts/dao.algo.ts:33
+	// contracts/dao.algo.ts:35
 	// assetReceiver: this.txn.sender
 	txn Sender
 	itxn_field AssetReceiver
 
-	// contracts/dao.algo.ts:34
+	// contracts/dao.algo.ts:36
 	// assetAmount: 1
 	int 1
 	itxn_field AssetAmount
@@ -187,7 +187,7 @@ register:
 	// Submit inner transaction
 	itxn_submit
 
-	// contracts/dao.algo.ts:36
+	// contracts/dao.algo.ts:38
 	// sendAssetFreeze({
 	//       freezeAsset: this.registeredAsaId.value,
 	//       freezeAssetAccount: this.txn.sender,
@@ -197,18 +197,18 @@ register:
 	int afrz
 	itxn_field TypeEnum
 
-	// contracts/dao.algo.ts:37
+	// contracts/dao.algo.ts:39
 	// freezeAsset: this.registeredAsaId.value
 	byte "registeredAsaId"
 	app_global_get
 	itxn_field FreezeAsset
 
-	// contracts/dao.algo.ts:38
+	// contracts/dao.algo.ts:40
 	// freezeAssetAccount: this.txn.sender
 	txn Sender
 	itxn_field FreezeAssetAccount
 
-	// contracts/dao.algo.ts:39
+	// contracts/dao.algo.ts:41
 	// freezeAssetFrozen: true
 	int 1
 	itxn_field FreezeAssetFrozen
@@ -243,7 +243,7 @@ abi_route_vote:
 vote:
 	proto 2 0
 
-	// contracts/dao.algo.ts:45
+	// contracts/dao.algo.ts:47
 	// assert(this.txn.sender.assetBalance(this.registeredAsaId.value) === 1)
 	txn Sender
 	byte "registeredAsaId"
@@ -254,7 +254,29 @@ vote:
 	==
 	assert
 
-	// contracts/dao.algo.ts:46
+	// contracts/dao.algo.ts:48
+	// assert(!this.inFavor(this.txn.sender).exists)
+	txn Sender
+	txna Applications 0
+	byte "inFavor"
+	app_local_get_ex
+	swap
+	pop
+	!
+	assert
+
+	// contracts/dao.algo.ts:49
+	// this.inFavor(this.txn.sender).value = inFavor
+	txn Sender
+	byte "inFavor"
+	frame_dig -1 // inFavor: bool
+	byte 0x00
+	int 0
+	uncover 2
+	setbit
+	app_local_put
+
+	// contracts/dao.algo.ts:51
 	// this.votesTotal.value = this.votesTotal.value + 1
 	byte "votesTotal"
 	byte "votesTotal"
@@ -264,13 +286,13 @@ vote:
 	app_global_put
 
 	// if0_condition
-	// contracts/dao.algo.ts:47
+	// contracts/dao.algo.ts:52
 	// inFavor
 	frame_dig -1 // inFavor: bool
 	bz if0_end
 
 	// if0_consequent
-	// contracts/dao.algo.ts:48
+	// contracts/dao.algo.ts:53
 	// this.votesInFavor.value = this.votesInFavor.value + 1
 	byte "votesInFavor"
 	byte "votesInFavor"
@@ -292,7 +314,7 @@ abi_route_getProposal:
 getProposal:
 	proto 0 0
 
-	// contracts/dao.algo.ts:53
+	// contracts/dao.algo.ts:58
 	// return this.proposal.value;
 	byte "proposal"
 	app_global_get
@@ -319,7 +341,7 @@ abi_route_getRegisteredASA:
 getRegisteredASA:
 	proto 0 0
 
-	// contracts/dao.algo.ts:57
+	// contracts/dao.algo.ts:62
 	// return this.registeredAsaId.value;
 	byte "registeredAsaId"
 	app_global_get
@@ -340,7 +362,7 @@ abi_route_getVotes:
 getVotes:
 	proto 0 0
 
-	// contracts/dao.algo.ts:61
+	// contracts/dao.algo.ts:66
 	// return [this.votesInFavor.value, this.votesTotal.value];
 	byte "votesInFavor"
 	app_global_get
@@ -363,11 +385,16 @@ create_NoOp:
 
 call_NoOp:
 	method "bootstrap()uint64"
-	method "register(asset)void"
 	method "vote(bool,asset)void"
 	method "getProposal()string"
 	method "getRegisteredASA()uint64"
 	method "getVotes()(uint64,uint64)"
 	txna ApplicationArgs 0
-	match abi_route_bootstrap abi_route_register abi_route_vote abi_route_getProposal abi_route_getRegisteredASA abi_route_getVotes
+	match abi_route_bootstrap abi_route_vote abi_route_getProposal abi_route_getRegisteredASA abi_route_getVotes
+	err
+
+call_OptIn:
+	method "optInToApplication(asset)void"
+	txna ApplicationArgs 0
+	match abi_route_optInToApplication
 	err
\ No newline at end of file
diff --git a/tealscript/contracts/artifacts/Dao.json b/tealscript/contracts/artifacts/Dao.json
index e7f29b5..8156ad0 100644
--- a/tealscript/contracts/artifacts/Dao.json
+++ b/tealscript/contracts/artifacts/Dao.json
@@ -10,9 +10,9 @@
         "no_op": "CALL"
       }
     },
-    "register(asset)void": {
+    "optInToApplication(asset)void": {
       "call_config": {
-        "no_op": "CALL"
+        "opt_in": "CALL"
       }
     },
     "vote(bool,asset)void": {
@@ -45,7 +45,12 @@
   },
   "schema": {
     "local": {
-      "declared": {},
+      "declared": {
+        "inFavor": {
+          "type": "bytes",
+          "key": "inFavor"
+        }
+      },
       "reserved": {}
     },
     "global": {
@@ -76,12 +81,12 @@
       "num_uints": 3
     },
     "local": {
-      "num_byte_slices": 0,
+      "num_byte_slices": 1,
       "num_uints": 0
     }
   },
   "source": {
-    "approval": "I3ByYWdtYSB2ZXJzaW9uIDkKCi8vIFRoaXMgVEVBTCB3YXMgZ2VuZXJhdGVkIGJ5IFRFQUxTY3JpcHQgdjAuNDYuMQovLyBodHRwczovL2dpdGh1Yi5jb20vYWxnb3JhbmQtZGV2cmVsL1RFQUxTY3JpcHQKCi8vIFRoaXMgY29udHJhY3QgaXMgY29tcGxpYW50IHdpdGggYW5kL29yIGltcGxlbWVudHMgdGhlIGZvbGxvd2luZyBBUkNzOiBbIEFSQzQgXQoKLy8gVGhlIGZvbGxvd2luZyB0ZW4gbGluZXMgb2YgVEVBTCBoYW5kbGUgaW5pdGlhbCBwcm9ncmFtIGZsb3cKLy8gVGhpcyBwYXR0ZXJuIGlzIHVzZWQgdG8gbWFrZSBpdCBlYXN5IGZvciBhbnlvbmUgdG8gcGFyc2UgdGhlIHN0YXJ0IG9mIHRoZSBwcm9ncmFtIGFuZCBkZXRlcm1pbmUgaWYgYSBzcGVjaWZpYyBhY3Rpb24gaXMgYWxsb3dlZAovLyBIZXJlLCBhY3Rpb24gcmVmZXJzIHRvIHRoZSBPbkNvbXBsZXRlIGluIGNvbWJpbmF0aW9uIHdpdGggd2hldGhlciB0aGUgYXBwIGlzIGJlaW5nIGNyZWF0ZWQgb3IgY2FsbGVkCi8vIEV2ZXJ5IHBvc3NpYmxlIGFjdGlvbiBmb3IgdGhpcyBjb250cmFjdCBpcyByZXByZXNlbnRlZCBpbiB0aGUgc3dpdGNoIHN0YXRlbWVudAovLyBJZiB0aGUgYWN0aW9uIGlzIG5vdCBpbXBsbWVudGVkIGluIHRoZSBjb250cmFjdCwgaXRzIHJlcHNlY3RpdmUgYnJhbmNoIHdpbGwgYmUgIk5PVF9JTVBMTUVOVEVEIiB3aGljaCBqdXN0IGNvbnRhaW5zICJlcnIiCnR4biBBcHBsaWNhdGlvbklECmludCAwCj4KaW50IDYKKgp0eG4gT25Db21wbGV0aW9uCisKc3dpdGNoIGNyZWF0ZV9Ob09wIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgTk9UX0lNUExFTUVOVEVEIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgY2FsbF9Ob09wCgpOT1RfSU1QTEVNRU5URUQ6CgllcnIKCi8vIGNyZWF0ZUFwcGxpY2F0aW9uKHN0cmluZyl2b2lkCmFiaV9yb3V0ZV9jcmVhdGVBcHBsaWNhdGlvbjoKCS8vIHByb3Bvc2FsOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gZXhlY3V0ZSBjcmVhdGVBcHBsaWNhdGlvbihzdHJpbmcpdm9pZAoJY2FsbHN1YiBjcmVhdGVBcHBsaWNhdGlvbgoJaW50IDEKCXJldHVybgoKY3JlYXRlQXBwbGljYXRpb246Cglwcm90byAxIDAKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MTQKCS8vIHRoaXMucHJvcG9zYWwudmFsdWUgPSBwcm9wb3NhbAoJYnl0ZSAicHJvcG9zYWwiCglmcmFtZV9kaWcgLTEgLy8gcHJvcG9zYWw6IGJ5dGVzCglkdXAKCWxlbgoJaXRvYgoJZXh0cmFjdCA2IDIKCXN3YXAKCWNvbmNhdAoJYXBwX2dsb2JhbF9wdXQKCXJldHN1YgoKLy8gYm9vdHN0cmFwKCl1aW50NjQKYWJpX3JvdXRlX2Jvb3RzdHJhcDoKCWJ5dGUgMHggLy8gcHVzaCBlbXB0eSBieXRlcyB0byBmaWxsIHRoZSBzdGFjayBmcmFtZSBmb3IgdGhpcyBzdWJyb3V0aW5lJ3MgbG9jYWwgdmFyaWFibGVzCgoJLy8gZXhlY3V0ZSBib290c3RyYXAoKXVpbnQ2NAoJY2FsbHN1YiBib290c3RyYXAKCWludCAxCglyZXR1cm4KCmJvb3RzdHJhcDoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoxOAoJLy8gdmVyaWZ5IHNlbmRlcgoJdHhuIFNlbmRlcgoJdHhuYSBBcHBsaWNhdGlvbnMgMAoJYXBwX3BhcmFtc19nZXQgQXBwQ3JlYXRvcgoJYXNzZXJ0Cgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjE5CgkvLyBhc3NlcnQoIXRoaXMucmVnaXN0ZXJlZEFzYUlkLmV4aXN0cykKCXR4bmEgQXBwbGljYXRpb25zIDAKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWFwcF9nbG9iYWxfZ2V0X2V4Cglzd2FwCglwb3AKCSEKCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoyMAoJLy8gcmVnaXN0ZXJlZEFzYSA9IHNlbmRBc3NldENyZWF0aW9uKHsKCS8vICAgICAgIGNvbmZpZ0Fzc2V0VG90YWw6IDFfMDAwLAoJLy8gICAgICAgY29uZmlnQXNzZXRGcmVlemU6IHRoaXMuYXBwLmFkZHJlc3MsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBhY2ZnCglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjIxCgkvLyBjb25maWdBc3NldFRvdGFsOiAxXzAwMAoJaW50IDFfMDAwCglpdHhuX2ZpZWxkIENvbmZpZ0Fzc2V0VG90YWwKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjIKCS8vIGNvbmZpZ0Fzc2V0RnJlZXplOiB0aGlzLmFwcC5hZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9ucyAwCglhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCglhc3NlcnQKCWl0eG5fZmllbGQgQ29uZmlnQXNzZXRGcmVlemUKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglpdHhuIENyZWF0ZWRBc3NldElECglmcmFtZV9idXJ5IC0xIC8vIHJlZ2lzdGVyZWRBc2E6IGFzc2V0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjI0CgkvLyB0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSA9IHJlZ2lzdGVyZWRBc2EKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWZyYW1lX2RpZyAtMSAvLyByZWdpc3RlcmVkQXNhOiBhc3NldAoJYXBwX2dsb2JhbF9wdXQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjUKCS8vIHJldHVybiByZWdpc3RlcmVkQXNhOwoJZnJhbWVfZGlnIC0xIC8vIHJlZ2lzdGVyZWRBc2E6IGFzc2V0CglpdG9iCglieXRlIDB4MTUxZjdjNzUKCXN3YXAKCWNvbmNhdAoJbG9nCglyZXRzdWIKCi8vIHJlZ2lzdGVyKGFzc2V0KXZvaWQKLy8KLy8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCmFiaV9yb3V0ZV9yZWdpc3RlcjoKCS8vIHJlZ2lzdGVyZWRBU0E6IGFzc2V0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglidG9pCgl0eG5hcyBBc3NldHMKCgkvLyBleGVjdXRlIHJlZ2lzdGVyKGFzc2V0KXZvaWQKCWNhbGxzdWIgcmVnaXN0ZXIKCWludCAxCglyZXR1cm4KCnJlZ2lzdGVyOgoJcHJvdG8gMSAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjMwCgkvLyBhc3NlcnQodGhpcy50eG4uc2VuZGVyLmFzc2V0QmFsYW5jZSh0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSkgPT09IDApCgl0eG4gU2VuZGVyCglieXRlICJyZWdpc3RlcmVkQXNhSWQiCglhcHBfZ2xvYmFsX2dldAoJYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCglhc3NlcnQKCWludCAwCgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjMxCgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICB4ZmVyQXNzZXQ6IHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlLAoJLy8gICAgICAgYXNzZXRSZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgYXNzZXRBbW91bnQ6IDEsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozMgoJLy8geGZlckFzc2V0OiB0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZQoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJYXBwX2dsb2JhbF9nZXQKCWl0eG5fZmllbGQgWGZlckFzc2V0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjMzCgkvLyBhc3NldFJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozNAoJLy8gYXNzZXRBbW91bnQ6IDEKCWludCAxCglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozNgoJLy8gc2VuZEFzc2V0RnJlZXplKHsKCS8vICAgICAgIGZyZWV6ZUFzc2V0OiB0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSwKCS8vICAgICAgIGZyZWV6ZUFzc2V0QWNjb3VudDogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgZnJlZXplQXNzZXRGcm96ZW46IHRydWUsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBhZnJ6CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjM3CgkvLyBmcmVlemVBc3NldDogdGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWUKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWFwcF9nbG9iYWxfZ2V0CglpdHhuX2ZpZWxkIEZyZWV6ZUFzc2V0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjM4CgkvLyBmcmVlemVBc3NldEFjY291bnQ6IHRoaXMudHhuLnNlbmRlcgoJdHhuIFNlbmRlcgoJaXR4bl9maWVsZCBGcmVlemVBc3NldEFjY291bnQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MzkKCS8vIGZyZWV6ZUFzc2V0RnJvemVuOiB0cnVlCglpbnQgMQoJaXR4bl9maWVsZCBGcmVlemVBc3NldEZyb3plbgoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCXJldHN1YgoKLy8gdm90ZShhc3NldCxib29sKXZvaWQKLy8KLy8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCmFiaV9yb3V0ZV92b3RlOgoJLy8gcmVnaXN0ZXJlZEFTQTogYXNzZXQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWJ0b2kKCXR4bmFzIEFzc2V0cwoKCS8vIGluRmF2b3I6IGJvb2wKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWludCAwCglnZXRiaXQKCgkvLyBleGVjdXRlIHZvdGUoYXNzZXQsYm9vbCl2b2lkCgljYWxsc3ViIHZvdGUKCWludCAxCglyZXR1cm4KCnZvdGU6Cglwcm90byAyIDAKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6NDUKCS8vIGFzc2VydCh0aGlzLnR4bi5zZW5kZXIuYXNzZXRCYWxhbmNlKHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlKSA9PT0gMSkKCXR4biBTZW5kZXIKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWFwcF9nbG9iYWxfZ2V0Cglhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKCWFzc2VydAoJaW50IDEKCT09Cglhc3NlcnQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6NDYKCS8vIHRoaXMudm90ZXNUb3RhbC52YWx1ZSA9IHRoaXMudm90ZXNUb3RhbC52YWx1ZSArIDEKCWJ5dGUgInZvdGVzVG90YWwiCglieXRlICJ2b3Rlc1RvdGFsIgoJYXBwX2dsb2JhbF9nZXQKCWludCAxCgkrCglhcHBfZ2xvYmFsX3B1dAoKCS8vIGlmMF9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo0NwoJLy8gaW5GYXZvcgoJZnJhbWVfZGlnIC0xIC8vIGluRmF2b3I6IGJvb2wKCWJ6IGlmMF9lbmQKCgkvLyBpZjBfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjQ4CgkvLyB0aGlzLnZvdGVzSW5GYXZvci52YWx1ZSA9IHRoaXMudm90ZXNJbkZhdm9yLnZhbHVlICsgMQoJYnl0ZSAidm90ZXNJbkZhdm9yIgoJYnl0ZSAidm90ZXNJbkZhdm9yIgoJYXBwX2dsb2JhbF9nZXQKCWludCAxCgkrCglhcHBfZ2xvYmFsX3B1dAoKaWYwX2VuZDoKCXJldHN1YgoKLy8gZ2V0UHJvcG9zYWwoKXN0cmluZwphYmlfcm91dGVfZ2V0UHJvcG9zYWw6CgkvLyBleGVjdXRlIGdldFByb3Bvc2FsKClzdHJpbmcKCWNhbGxzdWIgZ2V0UHJvcG9zYWwKCWludCAxCglyZXR1cm4KCmdldFByb3Bvc2FsOgoJcHJvdG8gMCAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjUzCgkvLyByZXR1cm4gdGhpcy5wcm9wb3NhbC52YWx1ZTsKCWJ5dGUgInByb3Bvc2FsIgoJYXBwX2dsb2JhbF9nZXQKCWV4dHJhY3QgMiAwCglkdXAKCWxlbgoJaXRvYgoJZXh0cmFjdCA2IDIKCXN3YXAKCWNvbmNhdAoJYnl0ZSAweDE1MWY3Yzc1Cglzd2FwCgljb25jYXQKCWxvZwoJcmV0c3ViCgovLyBnZXRSZWdpc3RlcmVkQVNBKCl1aW50NjQKYWJpX3JvdXRlX2dldFJlZ2lzdGVyZWRBU0E6CgkvLyBleGVjdXRlIGdldFJlZ2lzdGVyZWRBU0EoKXVpbnQ2NAoJY2FsbHN1YiBnZXRSZWdpc3RlcmVkQVNBCglpbnQgMQoJcmV0dXJuCgpnZXRSZWdpc3RlcmVkQVNBOgoJcHJvdG8gMCAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjU3CgkvLyByZXR1cm4gdGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWU7CglieXRlICJyZWdpc3RlcmVkQXNhSWQiCglhcHBfZ2xvYmFsX2dldAoJaXRvYgoJYnl0ZSAweDE1MWY3Yzc1Cglzd2FwCgljb25jYXQKCWxvZwoJcmV0c3ViCgovLyBnZXRWb3RlcygpKHVpbnQ2NCx1aW50NjQpCmFiaV9yb3V0ZV9nZXRWb3RlczoKCS8vIGV4ZWN1dGUgZ2V0Vm90ZXMoKSh1aW50NjQsdWludDY0KQoJY2FsbHN1YiBnZXRWb3RlcwoJaW50IDEKCXJldHVybgoKZ2V0Vm90ZXM6Cglwcm90byAwIDAKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6NjEKCS8vIHJldHVybiBbdGhpcy52b3Rlc0luRmF2b3IudmFsdWUsIHRoaXMudm90ZXNUb3RhbC52YWx1ZV07CglieXRlICJ2b3Rlc0luRmF2b3IiCglhcHBfZ2xvYmFsX2dldAoJaXRvYgoJYnl0ZSAidm90ZXNUb3RhbCIKCWFwcF9nbG9iYWxfZ2V0CglpdG9iCgljb25jYXQKCWJ5dGUgMHgxNTFmN2M3NQoJc3dhcAoJY29uY2F0Cglsb2cKCXJldHN1YgoKY3JlYXRlX05vT3A6CgltZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKHN0cmluZyl2b2lkIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggYWJpX3JvdXRlX2NyZWF0ZUFwcGxpY2F0aW9uCgllcnIKCmNhbGxfTm9PcDoKCW1ldGhvZCAiYm9vdHN0cmFwKCl1aW50NjQiCgltZXRob2QgInJlZ2lzdGVyKGFzc2V0KXZvaWQiCgltZXRob2QgInZvdGUoYm9vbCxhc3NldCl2b2lkIgoJbWV0aG9kICJnZXRQcm9wb3NhbCgpc3RyaW5nIgoJbWV0aG9kICJnZXRSZWdpc3RlcmVkQVNBKCl1aW50NjQiCgltZXRob2QgImdldFZvdGVzKCkodWludDY0LHVpbnQ2NCkiCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAwCgltYXRjaCBhYmlfcm91dGVfYm9vdHN0cmFwIGFiaV9yb3V0ZV9yZWdpc3RlciBhYmlfcm91dGVfdm90ZSBhYmlfcm91dGVfZ2V0UHJvcG9zYWwgYWJpX3JvdXRlX2dldFJlZ2lzdGVyZWRBU0EgYWJpX3JvdXRlX2dldFZvdGVzCgllcnI=",
+    "approval": "I3ByYWdtYSB2ZXJzaW9uIDkKCi8vIFRoaXMgVEVBTCB3YXMgZ2VuZXJhdGVkIGJ5IFRFQUxTY3JpcHQgdjAuNDYuMQovLyBodHRwczovL2dpdGh1Yi5jb20vYWxnb3JhbmQtZGV2cmVsL1RFQUxTY3JpcHQKCi8vIFRoaXMgY29udHJhY3QgaXMgY29tcGxpYW50IHdpdGggYW5kL29yIGltcGxlbWVudHMgdGhlIGZvbGxvd2luZyBBUkNzOiBbIEFSQzQgXQoKLy8gVGhlIGZvbGxvd2luZyB0ZW4gbGluZXMgb2YgVEVBTCBoYW5kbGUgaW5pdGlhbCBwcm9ncmFtIGZsb3cKLy8gVGhpcyBwYXR0ZXJuIGlzIHVzZWQgdG8gbWFrZSBpdCBlYXN5IGZvciBhbnlvbmUgdG8gcGFyc2UgdGhlIHN0YXJ0IG9mIHRoZSBwcm9ncmFtIGFuZCBkZXRlcm1pbmUgaWYgYSBzcGVjaWZpYyBhY3Rpb24gaXMgYWxsb3dlZAovLyBIZXJlLCBhY3Rpb24gcmVmZXJzIHRvIHRoZSBPbkNvbXBsZXRlIGluIGNvbWJpbmF0aW9uIHdpdGggd2hldGhlciB0aGUgYXBwIGlzIGJlaW5nIGNyZWF0ZWQgb3IgY2FsbGVkCi8vIEV2ZXJ5IHBvc3NpYmxlIGFjdGlvbiBmb3IgdGhpcyBjb250cmFjdCBpcyByZXByZXNlbnRlZCBpbiB0aGUgc3dpdGNoIHN0YXRlbWVudAovLyBJZiB0aGUgYWN0aW9uIGlzIG5vdCBpbXBsbWVudGVkIGluIHRoZSBjb250cmFjdCwgaXRzIHJlcHNlY3RpdmUgYnJhbmNoIHdpbGwgYmUgIk5PVF9JTVBMTUVOVEVEIiB3aGljaCBqdXN0IGNvbnRhaW5zICJlcnIiCnR4biBBcHBsaWNhdGlvbklECmludCAwCj4KaW50IDYKKgp0eG4gT25Db21wbGV0aW9uCisKc3dpdGNoIGNyZWF0ZV9Ob09wIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgTk9UX0lNUExFTUVOVEVEIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgY2FsbF9Ob09wIGNhbGxfT3B0SW4KCk5PVF9JTVBMRU1FTlRFRDoKCWVycgoKLy8gY3JlYXRlQXBwbGljYXRpb24oc3RyaW5nKXZvaWQKYWJpX3JvdXRlX2NyZWF0ZUFwcGxpY2F0aW9uOgoJLy8gcHJvcG9zYWw6IHN0cmluZwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZXh0cmFjdCAyIDAKCgkvLyBleGVjdXRlIGNyZWF0ZUFwcGxpY2F0aW9uKHN0cmluZyl2b2lkCgljYWxsc3ViIGNyZWF0ZUFwcGxpY2F0aW9uCglpbnQgMQoJcmV0dXJuCgpjcmVhdGVBcHBsaWNhdGlvbjoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoxNgoJLy8gdGhpcy5wcm9wb3NhbC52YWx1ZSA9IHByb3Bvc2FsCglieXRlICJwcm9wb3NhbCIKCWZyYW1lX2RpZyAtMSAvLyBwcm9wb3NhbDogYnl0ZXMKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0CglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBib290c3RyYXAoKXVpbnQ2NAphYmlfcm91dGVfYm9vdHN0cmFwOgoJYnl0ZSAweCAvLyBwdXNoIGVtcHR5IGJ5dGVzIHRvIGZpbGwgdGhlIHN0YWNrIGZyYW1lIGZvciB0aGlzIHN1YnJvdXRpbmUncyBsb2NhbCB2YXJpYWJsZXMKCgkvLyBleGVjdXRlIGJvb3RzdHJhcCgpdWludDY0CgljYWxsc3ViIGJvb3RzdHJhcAoJaW50IDEKCXJldHVybgoKYm9vdHN0cmFwOgoJcHJvdG8gMSAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjIwCgkvLyB2ZXJpZnkgc2VuZGVyCgl0eG4gU2VuZGVyCgl0eG5hIEFwcGxpY2F0aW9ucyAwCglhcHBfcGFyYW1zX2dldCBBcHBDcmVhdG9yCglhc3NlcnQKCT09Cglhc3NlcnQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjEKCS8vIGFzc2VydCghdGhpcy5yZWdpc3RlcmVkQXNhSWQuZXhpc3RzKQoJdHhuYSBBcHBsaWNhdGlvbnMgMAoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJYXBwX2dsb2JhbF9nZXRfZXgKCXN3YXAKCXBvcAoJIQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjIyCgkvLyByZWdpc3RlcmVkQXNhID0gc2VuZEFzc2V0Q3JlYXRpb24oewoJLy8gICAgICAgY29uZmlnQXNzZXRUb3RhbDogMV8wMDAsCgkvLyAgICAgICBjb25maWdBc3NldEZyZWV6ZTogdGhpcy5hcHAuYWRkcmVzcywKCS8vICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGFjZmcKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjMKCS8vIGNvbmZpZ0Fzc2V0VG90YWw6IDFfMDAwCglpbnQgMV8wMDAKCWl0eG5fZmllbGQgQ29uZmlnQXNzZXRUb3RhbAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoyNAoJLy8gY29uZmlnQXNzZXRGcmVlemU6IHRoaXMuYXBwLmFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25zIDAKCWFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKCWFzc2VydAoJaXR4bl9maWVsZCBDb25maWdBc3NldEZyZWV6ZQoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCWl0eG4gQ3JlYXRlZEFzc2V0SUQKCWZyYW1lX2J1cnkgLTEgLy8gcmVnaXN0ZXJlZEFzYTogYXNzZXQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjYKCS8vIHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlID0gcmVnaXN0ZXJlZEFzYQoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJZnJhbWVfZGlnIC0xIC8vIHJlZ2lzdGVyZWRBc2E6IGFzc2V0CglhcHBfZ2xvYmFsX3B1dAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoyNwoJLy8gcmV0dXJuIHJlZ2lzdGVyZWRBc2E7CglmcmFtZV9kaWcgLTEgLy8gcmVnaXN0ZXJlZEFzYTogYXNzZXQKCWl0b2IKCWJ5dGUgMHgxNTFmN2M3NQoJc3dhcAoJY29uY2F0Cglsb2cKCXJldHN1YgoKLy8gb3B0SW5Ub0FwcGxpY2F0aW9uKGFzc2V0KXZvaWQKLy8KLy8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCmFiaV9yb3V0ZV9vcHRJblRvQXBwbGljYXRpb246CgkvLyByZWdpc3RlcmVkQVNBOiBhc3NldAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoJdHhuYXMgQXNzZXRzCgoJLy8gZXhlY3V0ZSBvcHRJblRvQXBwbGljYXRpb24oYXNzZXQpdm9pZAoJY2FsbHN1YiBvcHRJblRvQXBwbGljYXRpb24KCWludCAxCglyZXR1cm4KCm9wdEluVG9BcHBsaWNhdGlvbjoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozMgoJLy8gYXNzZXJ0KHRoaXMudHhuLnNlbmRlci5hc3NldEJhbGFuY2UodGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWUpID09PSAwKQoJdHhuIFNlbmRlcgoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJYXBwX2dsb2JhbF9nZXQKCWFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQoJYXNzZXJ0CglpbnQgMAoJPT0KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozMwoJLy8gc2VuZEFzc2V0VHJhbnNmZXIoewoJLy8gICAgICAgeGZlckFzc2V0OiB0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSwKCS8vICAgICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMudHhuLnNlbmRlciwKCS8vICAgICAgIGFzc2V0QW1vdW50OiAxLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYXhmZXIKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MzQKCS8vIHhmZXJBc3NldDogdGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWUKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWFwcF9nbG9iYWxfZ2V0CglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozNQoJLy8gYXNzZXRSZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyCgl0eG4gU2VuZGVyCglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MzYKCS8vIGFzc2V0QW1vdW50OiAxCglpbnQgMQoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MzgKCS8vIHNlbmRBc3NldEZyZWV6ZSh7CgkvLyAgICAgICBmcmVlemVBc3NldDogdGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWUsCgkvLyAgICAgICBmcmVlemVBc3NldEFjY291bnQ6IHRoaXMudHhuLnNlbmRlciwKCS8vICAgICAgIGZyZWV6ZUFzc2V0RnJvemVuOiB0cnVlLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYWZyegoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozOQoJLy8gZnJlZXplQXNzZXQ6IHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlCglieXRlICJyZWdpc3RlcmVkQXNhSWQiCglhcHBfZ2xvYmFsX2dldAoJaXR4bl9maWVsZCBGcmVlemVBc3NldAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo0MAoJLy8gZnJlZXplQXNzZXRBY2NvdW50OiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgRnJlZXplQXNzZXRBY2NvdW50CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjQxCgkvLyBmcmVlemVBc3NldEZyb3plbjogdHJ1ZQoJaW50IDEKCWl0eG5fZmllbGQgRnJlZXplQXNzZXRGcm96ZW4KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglyZXRzdWIKCi8vIHZvdGUoYXNzZXQsYm9vbCl2b2lkCi8vCi8vIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwphYmlfcm91dGVfdm90ZToKCS8vIHJlZ2lzdGVyZWRBU0E6IGFzc2V0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglidG9pCgl0eG5hcyBBc3NldHMKCgkvLyBpbkZhdm9yOiBib29sCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglpbnQgMAoJZ2V0Yml0CgoJLy8gZXhlY3V0ZSB2b3RlKGFzc2V0LGJvb2wpdm9pZAoJY2FsbHN1YiB2b3RlCglpbnQgMQoJcmV0dXJuCgp2b3RlOgoJcHJvdG8gMiAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjQ3CgkvLyBhc3NlcnQodGhpcy50eG4uc2VuZGVyLmFzc2V0QmFsYW5jZSh0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSkgPT09IDEpCgl0eG4gU2VuZGVyCglieXRlICJyZWdpc3RlcmVkQXNhSWQiCglhcHBfZ2xvYmFsX2dldAoJYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCglhc3NlcnQKCWludCAxCgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjQ4CgkvLyBhc3NlcnQoIXRoaXMuaW5GYXZvcih0aGlzLnR4bi5zZW5kZXIpLmV4aXN0cykKCXR4biBTZW5kZXIKCXR4bmEgQXBwbGljYXRpb25zIDAKCWJ5dGUgImluRmF2b3IiCglhcHBfbG9jYWxfZ2V0X2V4Cglzd2FwCglwb3AKCSEKCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo0OQoJLy8gdGhpcy5pbkZhdm9yKHRoaXMudHhuLnNlbmRlcikudmFsdWUgPSBpbkZhdm9yCgl0eG4gU2VuZGVyCglieXRlICJpbkZhdm9yIgoJZnJhbWVfZGlnIC0xIC8vIGluRmF2b3I6IGJvb2wKCWJ5dGUgMHgwMAoJaW50IDAKCXVuY292ZXIgMgoJc2V0Yml0CglhcHBfbG9jYWxfcHV0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjUxCgkvLyB0aGlzLnZvdGVzVG90YWwudmFsdWUgPSB0aGlzLnZvdGVzVG90YWwudmFsdWUgKyAxCglieXRlICJ2b3Rlc1RvdGFsIgoJYnl0ZSAidm90ZXNUb3RhbCIKCWFwcF9nbG9iYWxfZ2V0CglpbnQgMQoJKwoJYXBwX2dsb2JhbF9wdXQKCgkvLyBpZjBfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6NTIKCS8vIGluRmF2b3IKCWZyYW1lX2RpZyAtMSAvLyBpbkZhdm9yOiBib29sCglieiBpZjBfZW5kCgoJLy8gaWYwX2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo1MwoJLy8gdGhpcy52b3Rlc0luRmF2b3IudmFsdWUgPSB0aGlzLnZvdGVzSW5GYXZvci52YWx1ZSArIDEKCWJ5dGUgInZvdGVzSW5GYXZvciIKCWJ5dGUgInZvdGVzSW5GYXZvciIKCWFwcF9nbG9iYWxfZ2V0CglpbnQgMQoJKwoJYXBwX2dsb2JhbF9wdXQKCmlmMF9lbmQ6CglyZXRzdWIKCi8vIGdldFByb3Bvc2FsKClzdHJpbmcKYWJpX3JvdXRlX2dldFByb3Bvc2FsOgoJLy8gZXhlY3V0ZSBnZXRQcm9wb3NhbCgpc3RyaW5nCgljYWxsc3ViIGdldFByb3Bvc2FsCglpbnQgMQoJcmV0dXJuCgpnZXRQcm9wb3NhbDoKCXByb3RvIDAgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo1OAoJLy8gcmV0dXJuIHRoaXMucHJvcG9zYWwudmFsdWU7CglieXRlICJwcm9wb3NhbCIKCWFwcF9nbG9iYWxfZ2V0CglleHRyYWN0IDIgMAoJZHVwCglsZW4KCWl0b2IKCWV4dHJhY3QgNiAyCglzd2FwCgljb25jYXQKCWJ5dGUgMHgxNTFmN2M3NQoJc3dhcAoJY29uY2F0Cglsb2cKCXJldHN1YgoKLy8gZ2V0UmVnaXN0ZXJlZEFTQSgpdWludDY0CmFiaV9yb3V0ZV9nZXRSZWdpc3RlcmVkQVNBOgoJLy8gZXhlY3V0ZSBnZXRSZWdpc3RlcmVkQVNBKCl1aW50NjQKCWNhbGxzdWIgZ2V0UmVnaXN0ZXJlZEFTQQoJaW50IDEKCXJldHVybgoKZ2V0UmVnaXN0ZXJlZEFTQToKCXByb3RvIDAgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo2MgoJLy8gcmV0dXJuIHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlOwoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJYXBwX2dsb2JhbF9nZXQKCWl0b2IKCWJ5dGUgMHgxNTFmN2M3NQoJc3dhcAoJY29uY2F0Cglsb2cKCXJldHN1YgoKLy8gZ2V0Vm90ZXMoKSh1aW50NjQsdWludDY0KQphYmlfcm91dGVfZ2V0Vm90ZXM6CgkvLyBleGVjdXRlIGdldFZvdGVzKCkodWludDY0LHVpbnQ2NCkKCWNhbGxzdWIgZ2V0Vm90ZXMKCWludCAxCglyZXR1cm4KCmdldFZvdGVzOgoJcHJvdG8gMCAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjY2CgkvLyByZXR1cm4gW3RoaXMudm90ZXNJbkZhdm9yLnZhbHVlLCB0aGlzLnZvdGVzVG90YWwudmFsdWVdOwoJYnl0ZSAidm90ZXNJbkZhdm9yIgoJYXBwX2dsb2JhbF9nZXQKCWl0b2IKCWJ5dGUgInZvdGVzVG90YWwiCglhcHBfZ2xvYmFsX2dldAoJaXRvYgoJY29uY2F0CglieXRlIDB4MTUxZjdjNzUKCXN3YXAKCWNvbmNhdAoJbG9nCglyZXRzdWIKCmNyZWF0ZV9Ob09wOgoJbWV0aG9kICJjcmVhdGVBcHBsaWNhdGlvbihzdHJpbmcpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoIGFiaV9yb3V0ZV9jcmVhdGVBcHBsaWNhdGlvbgoJZXJyCgpjYWxsX05vT3A6CgltZXRob2QgImJvb3RzdHJhcCgpdWludDY0IgoJbWV0aG9kICJ2b3RlKGJvb2wsYXNzZXQpdm9pZCIKCW1ldGhvZCAiZ2V0UHJvcG9zYWwoKXN0cmluZyIKCW1ldGhvZCAiZ2V0UmVnaXN0ZXJlZEFTQSgpdWludDY0IgoJbWV0aG9kICJnZXRWb3RlcygpKHVpbnQ2NCx1aW50NjQpIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggYWJpX3JvdXRlX2Jvb3RzdHJhcCBhYmlfcm91dGVfdm90ZSBhYmlfcm91dGVfZ2V0UHJvcG9zYWwgYWJpX3JvdXRlX2dldFJlZ2lzdGVyZWRBU0EgYWJpX3JvdXRlX2dldFZvdGVzCgllcnIKCmNhbGxfT3B0SW46CgltZXRob2QgIm9wdEluVG9BcHBsaWNhdGlvbihhc3NldCl2b2lkIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggYWJpX3JvdXRlX29wdEluVG9BcHBsaWNhdGlvbgoJZXJy",
     "clear": "I3ByYWdtYSB2ZXJzaW9uIDkKaW50IDE="
   },
   "contract": {
@@ -113,7 +118,7 @@
         }
       },
       {
-        "name": "register",
+        "name": "optInToApplication",
         "args": [
           {
             "name": "registeredASA",
diff --git a/tealscript/contracts/artifacts/Dao.src_map.json b/tealscript/contracts/artifacts/Dao.src_map.json
index 2a38e06..4a17825 100644
--- a/tealscript/contracts/artifacts/Dao.src_map.json
+++ b/tealscript/contracts/artifacts/Dao.src_map.json
@@ -7,7 +7,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -21,7 +21,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -35,7 +35,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -49,7 +49,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -63,7 +63,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -77,7 +77,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -91,7 +91,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -105,7 +105,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -119,7 +119,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -133,7 +133,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -147,7 +147,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -161,7 +161,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -175,7 +175,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -189,7 +189,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
@@ -199,11 +199,11 @@
     "teal": 26,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 2
       },
       "end": {
-        "line": 15,
+        "line": 17,
         "col": 3
       }
     },
@@ -213,11 +213,11 @@
     "teal": 28,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 20
       },
       "end": {
-        "line": 13,
+        "line": 15,
         "col": 36
       }
     },
@@ -227,11 +227,11 @@
     "teal": 29,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 20
       },
       "end": {
-        "line": 13,
+        "line": 15,
         "col": 36
       }
     },
@@ -241,11 +241,11 @@
     "teal": 32,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 2
       },
       "end": {
-        "line": 15,
+        "line": 17,
         "col": 3
       }
     },
@@ -255,11 +255,11 @@
     "teal": 33,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 2
       },
       "end": {
-        "line": 15,
+        "line": 17,
         "col": 3
       }
     },
@@ -269,11 +269,11 @@
     "teal": 34,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 2
       },
       "end": {
-        "line": 15,
+        "line": 17,
         "col": 3
       }
     },
@@ -283,11 +283,11 @@
     "teal": 36,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 2
       },
       "end": {
-        "line": 15,
+        "line": 17,
         "col": 3
       }
     },
@@ -297,11 +297,11 @@
     "teal": 37,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 2
       },
       "end": {
-        "line": 15,
+        "line": 17,
         "col": 3
       }
     },
@@ -311,11 +311,11 @@
     "teal": 41,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 4
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 17
       }
     },
@@ -325,11 +325,11 @@
     "teal": 42,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 4
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 17
       }
     },
@@ -339,11 +339,11 @@
     "teal": 43,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 4
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 23
       }
     },
@@ -353,11 +353,11 @@
     "teal": 44,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 26
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 34
       }
     },
@@ -367,11 +367,11 @@
     "teal": 45,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 26
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 34
       }
     },
@@ -381,11 +381,11 @@
     "teal": 46,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 26
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 34
       }
     },
@@ -395,11 +395,11 @@
     "teal": 47,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 26
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 34
       }
     },
@@ -409,11 +409,11 @@
     "teal": 48,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 26
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 34
       }
     },
@@ -423,11 +423,11 @@
     "teal": 49,
     "source": {
       "start": {
-        "line": 14,
+        "line": 16,
         "col": 4
       },
       "end": {
-        "line": 14,
+        "line": 16,
         "col": 17
       }
     },
@@ -437,11 +437,11 @@
     "teal": 50,
     "source": {
       "start": {
-        "line": 13,
+        "line": 15,
         "col": 2
       },
       "end": {
-        "line": 15,
+        "line": 17,
         "col": 3
       }
     },
@@ -451,11 +451,11 @@
     "teal": 53,
     "source": {
       "start": {
-        "line": 17,
+        "line": 19,
         "col": 2
       },
       "end": {
-        "line": 26,
+        "line": 28,
         "col": 3
       }
     },
@@ -465,11 +465,11 @@
     "teal": 54,
     "source": {
       "start": {
-        "line": 17,
+        "line": 19,
         "col": 2
       },
       "end": {
-        "line": 26,
+        "line": 28,
         "col": 3
       }
     },
@@ -479,11 +479,11 @@
     "teal": 57,
     "source": {
       "start": {
-        "line": 17,
+        "line": 19,
         "col": 2
       },
       "end": {
-        "line": 26,
+        "line": 28,
         "col": 3
       }
     },
@@ -493,11 +493,11 @@
     "teal": 58,
     "source": {
       "start": {
-        "line": 17,
+        "line": 19,
         "col": 2
       },
       "end": {
-        "line": 26,
+        "line": 28,
         "col": 3
       }
     },
@@ -507,11 +507,11 @@
     "teal": 59,
     "source": {
       "start": {
-        "line": 17,
+        "line": 19,
         "col": 2
       },
       "end": {
-        "line": 26,
+        "line": 28,
         "col": 3
       }
     },
@@ -521,11 +521,11 @@
     "teal": 61,
     "source": {
       "start": {
-        "line": 17,
+        "line": 19,
         "col": 2
       },
       "end": {
-        "line": 26,
+        "line": 28,
         "col": 3
       }
     },
@@ -535,11 +535,11 @@
     "teal": 62,
     "source": {
       "start": {
-        "line": 17,
+        "line": 19,
         "col": 2
       },
       "end": {
-        "line": 26,
+        "line": 28,
         "col": 3
       }
     },
@@ -549,11 +549,11 @@
     "teal": 66,
     "source": {
       "start": {
-        "line": 18,
+        "line": 20,
         "col": 26
       },
       "end": {
-        "line": 18,
+        "line": 20,
         "col": 50
       }
     },
@@ -563,11 +563,11 @@
     "teal": 67,
     "source": {
       "start": {
-        "line": 18,
+        "line": 20,
         "col": 34
       },
       "end": {
-        "line": 18,
+        "line": 20,
         "col": 42
       }
     },
@@ -577,11 +577,11 @@
     "teal": 68,
     "source": {
       "start": {
-        "line": 18,
+        "line": 20,
         "col": 34
       },
       "end": {
-        "line": 18,
+        "line": 20,
         "col": 42
       }
     },
@@ -591,11 +591,11 @@
     "teal": 69,
     "source": {
       "start": {
-        "line": 18,
+        "line": 20,
         "col": 43
       },
       "end": {
-        "line": 18,
+        "line": 20,
         "col": 50
       }
     },
@@ -605,11 +605,11 @@
     "teal": 70,
     "source": {
       "start": {
-        "line": 18,
+        "line": 20,
         "col": 26
       },
       "end": {
-        "line": 18,
+        "line": 20,
         "col": 50
       }
     },
@@ -619,11 +619,11 @@
     "teal": 71,
     "source": {
       "start": {
-        "line": 18,
+        "line": 20,
         "col": 26
       },
       "end": {
-        "line": 18,
+        "line": 20,
         "col": 50
       }
     },
@@ -633,11 +633,11 @@
     "teal": 75,
     "source": {
       "start": {
-        "line": 19,
+        "line": 21,
         "col": 12
       },
       "end": {
-        "line": 19,
+        "line": 21,
         "col": 32
       }
     },
@@ -647,11 +647,11 @@
     "teal": 76,
     "source": {
       "start": {
-        "line": 19,
+        "line": 21,
         "col": 12
       },
       "end": {
-        "line": 19,
+        "line": 21,
         "col": 32
       }
     },
@@ -661,11 +661,11 @@
     "teal": 77,
     "source": {
       "start": {
-        "line": 19,
+        "line": 21,
         "col": 12
       },
       "end": {
-        "line": 19,
+        "line": 21,
         "col": 32
       }
     },
@@ -675,11 +675,11 @@
     "teal": 78,
     "source": {
       "start": {
-        "line": 19,
+        "line": 21,
         "col": 12
       },
       "end": {
-        "line": 19,
+        "line": 21,
         "col": 32
       }
     },
@@ -689,11 +689,11 @@
     "teal": 79,
     "source": {
       "start": {
-        "line": 19,
+        "line": 21,
         "col": 12
       },
       "end": {
-        "line": 19,
+        "line": 21,
         "col": 32
       }
     },
@@ -703,11 +703,11 @@
     "teal": 80,
     "source": {
       "start": {
-        "line": 19,
+        "line": 21,
         "col": 12
       },
       "end": {
-        "line": 19,
+        "line": 21,
         "col": 39
       }
     },
@@ -717,11 +717,11 @@
     "teal": 81,
     "source": {
       "start": {
-        "line": 19,
+        "line": 21,
         "col": 11
       },
       "end": {
-        "line": 19,
+        "line": 21,
         "col": 39
       }
     },
@@ -731,11 +731,11 @@
     "teal": 88,
     "source": {
       "start": {
-        "line": 20,
+        "line": 22,
         "col": 26
       },
       "end": {
-        "line": 23,
+        "line": 25,
         "col": 6
       }
     },
@@ -745,11 +745,11 @@
     "teal": 89,
     "source": {
       "start": {
-        "line": 20,
+        "line": 22,
         "col": 26
       },
       "end": {
-        "line": 23,
+        "line": 25,
         "col": 6
       }
     },
@@ -759,11 +759,11 @@
     "teal": 90,
     "source": {
       "start": {
-        "line": 20,
+        "line": 22,
         "col": 26
       },
       "end": {
-        "line": 23,
+        "line": 25,
         "col": 6
       }
     },
@@ -773,11 +773,11 @@
     "teal": 94,
     "source": {
       "start": {
-        "line": 21,
+        "line": 23,
         "col": 24
       },
       "end": {
-        "line": 21,
+        "line": 23,
         "col": 29
       }
     },
@@ -787,11 +787,11 @@
     "teal": 95,
     "source": {
       "start": {
-        "line": 21,
+        "line": 23,
         "col": 6
       },
       "end": {
-        "line": 21,
+        "line": 23,
         "col": 29
       }
     },
@@ -801,11 +801,11 @@
     "teal": 99,
     "source": {
       "start": {
-        "line": 22,
+        "line": 24,
         "col": 25
       },
       "end": {
-        "line": 22,
+        "line": 24,
         "col": 33
       }
     },
@@ -815,11 +815,11 @@
     "teal": 100,
     "source": {
       "start": {
-        "line": 22,
+        "line": 24,
         "col": 25
       },
       "end": {
-        "line": 22,
+        "line": 24,
         "col": 33
       }
     },
@@ -829,11 +829,11 @@
     "teal": 101,
     "source": {
       "start": {
-        "line": 22,
+        "line": 24,
         "col": 34
       },
       "end": {
-        "line": 22,
+        "line": 24,
         "col": 41
       }
     },
@@ -843,11 +843,11 @@
     "teal": 102,
     "source": {
       "start": {
-        "line": 22,
+        "line": 24,
         "col": 6
       },
       "end": {
-        "line": 22,
+        "line": 24,
         "col": 41
       }
     },
@@ -857,11 +857,11 @@
     "teal": 105,
     "source": {
       "start": {
-        "line": 20,
+        "line": 22,
         "col": 26
       },
       "end": {
-        "line": 23,
+        "line": 25,
         "col": 6
       }
     },
@@ -871,11 +871,11 @@
     "teal": 106,
     "source": {
       "start": {
-        "line": 20,
+        "line": 22,
         "col": 26
       },
       "end": {
-        "line": 23,
+        "line": 25,
         "col": 6
       }
     },
@@ -885,11 +885,11 @@
     "teal": 109,
     "source": {
       "start": {
-        "line": 20,
+        "line": 22,
         "col": 26
       },
       "end": {
-        "line": 23,
+        "line": 25,
         "col": 6
       }
     },
@@ -899,11 +899,11 @@
     "teal": 110,
     "source": {
       "start": {
-        "line": 20,
+        "line": 22,
         "col": 26
       },
       "end": {
-        "line": 23,
+        "line": 25,
         "col": 6
       }
     },
@@ -913,11 +913,11 @@
     "teal": 111,
     "source": {
       "start": {
-        "line": 20,
+        "line": 22,
         "col": 10
       },
       "end": {
-        "line": 23,
+        "line": 25,
         "col": 6
       }
     },
@@ -927,11 +927,11 @@
     "teal": 115,
     "source": {
       "start": {
-        "line": 24,
+        "line": 26,
         "col": 4
       },
       "end": {
-        "line": 24,
+        "line": 26,
         "col": 24
       }
     },
@@ -941,11 +941,11 @@
     "teal": 116,
     "source": {
       "start": {
-        "line": 24,
+        "line": 26,
         "col": 4
       },
       "end": {
-        "line": 24,
+        "line": 26,
         "col": 24
       }
     },
@@ -955,11 +955,11 @@
     "teal": 117,
     "source": {
       "start": {
-        "line": 24,
+        "line": 26,
         "col": 4
       },
       "end": {
-        "line": 24,
+        "line": 26,
         "col": 24
       }
     },
@@ -969,11 +969,11 @@
     "teal": 121,
     "source": {
       "start": {
-        "line": 25,
+        "line": 27,
         "col": 11
       },
       "end": {
-        "line": 25,
+        "line": 27,
         "col": 24
       }
     },
@@ -983,11 +983,11 @@
     "teal": 122,
     "source": {
       "start": {
-        "line": 25,
+        "line": 27,
         "col": 11
       },
       "end": {
-        "line": 25,
+        "line": 27,
         "col": 24
       }
     },
@@ -997,11 +997,11 @@
     "teal": 123,
     "source": {
       "start": {
-        "line": 25,
+        "line": 27,
         "col": 4
       },
       "end": {
-        "line": 25,
+        "line": 27,
         "col": 25
       }
     },
@@ -1011,11 +1011,11 @@
     "teal": 124,
     "source": {
       "start": {
-        "line": 25,
+        "line": 27,
         "col": 4
       },
       "end": {
-        "line": 25,
+        "line": 27,
         "col": 25
       }
     },
@@ -1025,11 +1025,11 @@
     "teal": 125,
     "source": {
       "start": {
-        "line": 25,
+        "line": 27,
         "col": 4
       },
       "end": {
-        "line": 25,
+        "line": 27,
         "col": 25
       }
     },
@@ -1039,11 +1039,11 @@
     "teal": 126,
     "source": {
       "start": {
-        "line": 25,
+        "line": 27,
         "col": 4
       },
       "end": {
-        "line": 25,
+        "line": 27,
         "col": 25
       }
     },
@@ -1053,11 +1053,11 @@
     "teal": 127,
     "source": {
       "start": {
-        "line": 25,
+        "line": 27,
         "col": 4
       },
       "end": {
-        "line": 25,
+        "line": 27,
         "col": 25
       }
     },
@@ -1067,11 +1067,11 @@
     "teal": 132,
     "source": {
       "start": {
-        "line": 29,
+        "line": 31,
         "col": 2
       },
       "end": {
-        "line": 41,
+        "line": 43,
         "col": 3
       }
     },
@@ -1081,12 +1081,12 @@
     "teal": 134,
     "source": {
       "start": {
-        "line": 29,
-        "col": 11
+        "line": 31,
+        "col": 21
       },
       "end": {
-        "line": 29,
-        "col": 31
+        "line": 31,
+        "col": 41
       }
     },
     "pc": 0
@@ -1095,12 +1095,12 @@
     "teal": 135,
     "source": {
       "start": {
-        "line": 29,
-        "col": 11
+        "line": 31,
+        "col": 21
       },
       "end": {
-        "line": 29,
-        "col": 31
+        "line": 31,
+        "col": 41
       }
     },
     "pc": 0
@@ -1109,12 +1109,12 @@
     "teal": 136,
     "source": {
       "start": {
-        "line": 29,
-        "col": 11
+        "line": 31,
+        "col": 21
       },
       "end": {
-        "line": 29,
-        "col": 31
+        "line": 31,
+        "col": 41
       }
     },
     "pc": 0
@@ -1123,11 +1123,11 @@
     "teal": 139,
     "source": {
       "start": {
-        "line": 29,
+        "line": 31,
         "col": 2
       },
       "end": {
-        "line": 41,
+        "line": 43,
         "col": 3
       }
     },
@@ -1137,11 +1137,11 @@
     "teal": 140,
     "source": {
       "start": {
-        "line": 29,
+        "line": 31,
         "col": 2
       },
       "end": {
-        "line": 41,
+        "line": 43,
         "col": 3
       }
     },
@@ -1151,11 +1151,11 @@
     "teal": 141,
     "source": {
       "start": {
-        "line": 29,
+        "line": 31,
         "col": 2
       },
       "end": {
-        "line": 41,
+        "line": 43,
         "col": 3
       }
     },
@@ -1165,11 +1165,11 @@
     "teal": 143,
     "source": {
       "start": {
-        "line": 29,
+        "line": 31,
         "col": 2
       },
       "end": {
-        "line": 41,
+        "line": 43,
         "col": 3
       }
     },
@@ -1179,11 +1179,11 @@
     "teal": 144,
     "source": {
       "start": {
-        "line": 29,
+        "line": 31,
         "col": 2
       },
       "end": {
-        "line": 41,
+        "line": 43,
         "col": 3
       }
     },
@@ -1193,11 +1193,11 @@
     "teal": 148,
     "source": {
       "start": {
-        "line": 30,
+        "line": 32,
         "col": 20
       },
       "end": {
-        "line": 30,
+        "line": 32,
         "col": 26
       }
     },
@@ -1207,11 +1207,11 @@
     "teal": 149,
     "source": {
       "start": {
-        "line": 30,
+        "line": 32,
         "col": 40
       },
       "end": {
-        "line": 30,
+        "line": 32,
         "col": 60
       }
     },
@@ -1221,11 +1221,11 @@
     "teal": 150,
     "source": {
       "start": {
-        "line": 30,
+        "line": 32,
         "col": 40
       },
       "end": {
-        "line": 30,
+        "line": 32,
         "col": 60
       }
     },
@@ -1235,11 +1235,11 @@
     "teal": 151,
     "source": {
       "start": {
-        "line": 30,
+        "line": 32,
         "col": 11
       },
       "end": {
-        "line": 30,
+        "line": 32,
         "col": 39
       }
     },
@@ -1249,11 +1249,11 @@
     "teal": 152,
     "source": {
       "start": {
-        "line": 30,
+        "line": 32,
         "col": 11
       },
       "end": {
-        "line": 30,
+        "line": 32,
         "col": 39
       }
     },
@@ -1263,11 +1263,11 @@
     "teal": 153,
     "source": {
       "start": {
-        "line": 30,
+        "line": 32,
         "col": 72
       },
       "end": {
-        "line": 30,
+        "line": 32,
         "col": 73
       }
     },
@@ -1277,11 +1277,11 @@
     "teal": 154,
     "source": {
       "start": {
-        "line": 30,
+        "line": 32,
         "col": 68
       },
       "end": {
-        "line": 30,
+        "line": 32,
         "col": 71
       }
     },
@@ -1291,11 +1291,11 @@
     "teal": 155,
     "source": {
       "start": {
-        "line": 30,
+        "line": 32,
         "col": 11
       },
       "end": {
-        "line": 30,
+        "line": 32,
         "col": 73
       }
     },
@@ -1305,11 +1305,11 @@
     "teal": 163,
     "source": {
       "start": {
-        "line": 31,
+        "line": 33,
         "col": 4
       },
       "end": {
-        "line": 35,
+        "line": 37,
         "col": 6
       }
     },
@@ -1319,11 +1319,11 @@
     "teal": 164,
     "source": {
       "start": {
-        "line": 31,
+        "line": 33,
         "col": 4
       },
       "end": {
-        "line": 35,
+        "line": 37,
         "col": 6
       }
     },
@@ -1333,11 +1333,11 @@
     "teal": 165,
     "source": {
       "start": {
-        "line": 31,
+        "line": 33,
         "col": 4
       },
       "end": {
-        "line": 35,
+        "line": 37,
         "col": 6
       }
     },
@@ -1347,11 +1347,11 @@
     "teal": 169,
     "source": {
       "start": {
-        "line": 32,
+        "line": 34,
         "col": 17
       },
       "end": {
-        "line": 32,
+        "line": 34,
         "col": 37
       }
     },
@@ -1361,11 +1361,11 @@
     "teal": 170,
     "source": {
       "start": {
-        "line": 32,
+        "line": 34,
         "col": 17
       },
       "end": {
-        "line": 32,
+        "line": 34,
         "col": 37
       }
     },
@@ -1375,11 +1375,11 @@
     "teal": 171,
     "source": {
       "start": {
-        "line": 32,
+        "line": 34,
         "col": 6
       },
       "end": {
-        "line": 32,
+        "line": 34,
         "col": 43
       }
     },
@@ -1389,11 +1389,11 @@
     "teal": 175,
     "source": {
       "start": {
-        "line": 33,
+        "line": 35,
         "col": 30
       },
       "end": {
-        "line": 33,
+        "line": 35,
         "col": 36
       }
     },
@@ -1403,11 +1403,11 @@
     "teal": 176,
     "source": {
       "start": {
-        "line": 33,
+        "line": 35,
         "col": 6
       },
       "end": {
-        "line": 33,
+        "line": 35,
         "col": 36
       }
     },
@@ -1417,11 +1417,11 @@
     "teal": 180,
     "source": {
       "start": {
-        "line": 34,
+        "line": 36,
         "col": 19
       },
       "end": {
-        "line": 34,
+        "line": 36,
         "col": 20
       }
     },
@@ -1431,11 +1431,11 @@
     "teal": 181,
     "source": {
       "start": {
-        "line": 34,
+        "line": 36,
         "col": 6
       },
       "end": {
-        "line": 34,
+        "line": 36,
         "col": 20
       }
     },
@@ -1445,11 +1445,11 @@
     "teal": 184,
     "source": {
       "start": {
-        "line": 31,
+        "line": 33,
         "col": 4
       },
       "end": {
-        "line": 35,
+        "line": 37,
         "col": 6
       }
     },
@@ -1459,11 +1459,11 @@
     "teal": 185,
     "source": {
       "start": {
-        "line": 31,
+        "line": 33,
         "col": 4
       },
       "end": {
-        "line": 35,
+        "line": 37,
         "col": 6
       }
     },
@@ -1473,11 +1473,11 @@
     "teal": 188,
     "source": {
       "start": {
-        "line": 31,
+        "line": 33,
         "col": 4
       },
       "end": {
-        "line": 35,
+        "line": 37,
         "col": 6
       }
     },
@@ -1487,11 +1487,11 @@
     "teal": 196,
     "source": {
       "start": {
-        "line": 36,
+        "line": 38,
         "col": 4
       },
       "end": {
-        "line": 40,
+        "line": 42,
         "col": 6
       }
     },
@@ -1501,11 +1501,11 @@
     "teal": 197,
     "source": {
       "start": {
-        "line": 36,
+        "line": 38,
         "col": 4
       },
       "end": {
-        "line": 40,
+        "line": 42,
         "col": 6
       }
     },
@@ -1515,11 +1515,11 @@
     "teal": 198,
     "source": {
       "start": {
-        "line": 36,
+        "line": 38,
         "col": 4
       },
       "end": {
-        "line": 40,
+        "line": 42,
         "col": 6
       }
     },
@@ -1529,11 +1529,11 @@
     "teal": 202,
     "source": {
       "start": {
-        "line": 37,
+        "line": 39,
         "col": 19
       },
       "end": {
-        "line": 37,
+        "line": 39,
         "col": 39
       }
     },
@@ -1543,11 +1543,11 @@
     "teal": 203,
     "source": {
       "start": {
-        "line": 37,
+        "line": 39,
         "col": 19
       },
       "end": {
-        "line": 37,
+        "line": 39,
         "col": 39
       }
     },
@@ -1557,11 +1557,11 @@
     "teal": 204,
     "source": {
       "start": {
-        "line": 37,
+        "line": 39,
         "col": 6
       },
       "end": {
-        "line": 37,
+        "line": 39,
         "col": 45
       }
     },
@@ -1571,11 +1571,11 @@
     "teal": 208,
     "source": {
       "start": {
-        "line": 38,
+        "line": 40,
         "col": 35
       },
       "end": {
-        "line": 38,
+        "line": 40,
         "col": 41
       }
     },
@@ -1585,11 +1585,11 @@
     "teal": 209,
     "source": {
       "start": {
-        "line": 38,
+        "line": 40,
         "col": 6
       },
       "end": {
-        "line": 38,
+        "line": 40,
         "col": 41
       }
     },
@@ -1599,11 +1599,11 @@
     "teal": 213,
     "source": {
       "start": {
-        "line": 39,
+        "line": 41,
         "col": 25
       },
       "end": {
-        "line": 39,
+        "line": 41,
         "col": 29
       }
     },
@@ -1613,11 +1613,11 @@
     "teal": 214,
     "source": {
       "start": {
-        "line": 39,
+        "line": 41,
         "col": 6
       },
       "end": {
-        "line": 39,
+        "line": 41,
         "col": 29
       }
     },
@@ -1627,11 +1627,11 @@
     "teal": 217,
     "source": {
       "start": {
-        "line": 36,
+        "line": 38,
         "col": 4
       },
       "end": {
-        "line": 40,
+        "line": 42,
         "col": 6
       }
     },
@@ -1641,11 +1641,11 @@
     "teal": 218,
     "source": {
       "start": {
-        "line": 36,
+        "line": 38,
         "col": 4
       },
       "end": {
-        "line": 40,
+        "line": 42,
         "col": 6
       }
     },
@@ -1655,11 +1655,11 @@
     "teal": 221,
     "source": {
       "start": {
-        "line": 36,
+        "line": 38,
         "col": 4
       },
       "end": {
-        "line": 40,
+        "line": 42,
         "col": 6
       }
     },
@@ -1669,11 +1669,11 @@
     "teal": 222,
     "source": {
       "start": {
-        "line": 29,
+        "line": 31,
         "col": 2
       },
       "end": {
-        "line": 41,
+        "line": 43,
         "col": 3
       }
     },
@@ -1683,11 +1683,11 @@
     "teal": 227,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 2
       },
       "end": {
-        "line": 50,
+        "line": 55,
         "col": 3
       }
     },
@@ -1697,11 +1697,11 @@
     "teal": 229,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 25
       },
       "end": {
-        "line": 44,
+        "line": 46,
         "col": 45
       }
     },
@@ -1711,11 +1711,11 @@
     "teal": 230,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 25
       },
       "end": {
-        "line": 44,
+        "line": 46,
         "col": 45
       }
     },
@@ -1725,11 +1725,11 @@
     "teal": 231,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 25
       },
       "end": {
-        "line": 44,
+        "line": 46,
         "col": 45
       }
     },
@@ -1739,11 +1739,11 @@
     "teal": 234,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 7
       },
       "end": {
-        "line": 44,
+        "line": 46,
         "col": 23
       }
     },
@@ -1753,11 +1753,11 @@
     "teal": 235,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 7
       },
       "end": {
-        "line": 44,
+        "line": 46,
         "col": 23
       }
     },
@@ -1767,11 +1767,11 @@
     "teal": 236,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 7
       },
       "end": {
-        "line": 44,
+        "line": 46,
         "col": 23
       }
     },
@@ -1781,11 +1781,11 @@
     "teal": 239,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 2
       },
       "end": {
-        "line": 50,
+        "line": 55,
         "col": 3
       }
     },
@@ -1795,11 +1795,11 @@
     "teal": 240,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 2
       },
       "end": {
-        "line": 50,
+        "line": 55,
         "col": 3
       }
     },
@@ -1809,11 +1809,11 @@
     "teal": 241,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 2
       },
       "end": {
-        "line": 50,
+        "line": 55,
         "col": 3
       }
     },
@@ -1823,11 +1823,11 @@
     "teal": 243,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 2
       },
       "end": {
-        "line": 50,
+        "line": 55,
         "col": 3
       }
     },
@@ -1837,11 +1837,11 @@
     "teal": 244,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 2
       },
       "end": {
-        "line": 50,
+        "line": 55,
         "col": 3
       }
     },
@@ -1851,11 +1851,11 @@
     "teal": 248,
     "source": {
       "start": {
-        "line": 45,
+        "line": 47,
         "col": 20
       },
       "end": {
-        "line": 45,
+        "line": 47,
         "col": 26
       }
     },
@@ -1865,11 +1865,11 @@
     "teal": 249,
     "source": {
       "start": {
-        "line": 45,
+        "line": 47,
         "col": 40
       },
       "end": {
-        "line": 45,
+        "line": 47,
         "col": 60
       }
     },
@@ -1879,11 +1879,11 @@
     "teal": 250,
     "source": {
       "start": {
-        "line": 45,
+        "line": 47,
         "col": 40
       },
       "end": {
-        "line": 45,
+        "line": 47,
         "col": 60
       }
     },
@@ -1893,11 +1893,11 @@
     "teal": 251,
     "source": {
       "start": {
-        "line": 45,
+        "line": 47,
         "col": 11
       },
       "end": {
-        "line": 45,
+        "line": 47,
         "col": 39
       }
     },
@@ -1907,11 +1907,11 @@
     "teal": 252,
     "source": {
       "start": {
-        "line": 45,
+        "line": 47,
         "col": 11
       },
       "end": {
-        "line": 45,
+        "line": 47,
         "col": 39
       }
     },
@@ -1921,11 +1921,11 @@
     "teal": 253,
     "source": {
       "start": {
-        "line": 45,
+        "line": 47,
         "col": 72
       },
       "end": {
-        "line": 45,
+        "line": 47,
         "col": 73
       }
     },
@@ -1935,11 +1935,11 @@
     "teal": 254,
     "source": {
       "start": {
-        "line": 45,
+        "line": 47,
         "col": 68
       },
       "end": {
-        "line": 45,
+        "line": 47,
         "col": 71
       }
     },
@@ -1949,11 +1949,11 @@
     "teal": 255,
     "source": {
       "start": {
-        "line": 45,
+        "line": 47,
         "col": 11
       },
       "end": {
-        "line": 45,
+        "line": 47,
         "col": 73
       }
     },
@@ -1963,1159 +1963,1439 @@
     "teal": 259,
     "source": {
       "start": {
-        "line": 46,
+        "line": 48,
+        "col": 34
+      },
+      "end": {
+        "line": 48,
+        "col": 40
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 260,
+    "source": {
+      "start": {
+        "line": 48,
+        "col": 12
+      },
+      "end": {
+        "line": 48,
+        "col": 41
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 261,
+    "source": {
+      "start": {
+        "line": 48,
+        "col": 12
+      },
+      "end": {
+        "line": 48,
+        "col": 41
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 262,
+    "source": {
+      "start": {
+        "line": 48,
+        "col": 12
+      },
+      "end": {
+        "line": 48,
+        "col": 41
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 263,
+    "source": {
+      "start": {
+        "line": 48,
+        "col": 12
+      },
+      "end": {
+        "line": 48,
+        "col": 41
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 264,
+    "source": {
+      "start": {
+        "line": 48,
+        "col": 12
+      },
+      "end": {
+        "line": 48,
+        "col": 41
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 265,
+    "source": {
+      "start": {
+        "line": 48,
+        "col": 12
+      },
+      "end": {
+        "line": 48,
+        "col": 48
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 266,
+    "source": {
+      "start": {
+        "line": 48,
+        "col": 11
+      },
+      "end": {
+        "line": 48,
+        "col": 48
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 270,
+    "source": {
+      "start": {
+        "line": 49,
+        "col": 26
+      },
+      "end": {
+        "line": 49,
+        "col": 32
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 271,
+    "source": {
+      "start": {
+        "line": 49,
         "col": 4
       },
       "end": {
-        "line": 46,
+        "line": 49,
+        "col": 33
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 272,
+    "source": {
+      "start": {
+        "line": 49,
+        "col": 4
+      },
+      "end": {
+        "line": 49,
+        "col": 33
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 273,
+    "source": {
+      "start": {
+        "line": 49,
+        "col": 4
+      },
+      "end": {
+        "line": 49,
+        "col": 39
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 274,
+    "source": {
+      "start": {
+        "line": 49,
+        "col": 4
+      },
+      "end": {
+        "line": 49,
+        "col": 39
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 275,
+    "source": {
+      "start": {
+        "line": 49,
+        "col": 42
+      },
+      "end": {
+        "line": 49,
+        "col": 49
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 276,
+    "source": {
+      "start": {
+        "line": 49,
+        "col": 42
+      },
+      "end": {
+        "line": 49,
+        "col": 49
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 277,
+    "source": {
+      "start": {
+        "line": 49,
+        "col": 4
+      },
+      "end": {
+        "line": 49,
+        "col": 33
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 281,
+    "source": {
+      "start": {
+        "line": 51,
+        "col": 4
+      },
+      "end": {
+        "line": 51,
         "col": 19
       }
     },
     "pc": 0
   },
   {
-    "teal": 260,
+    "teal": 282,
     "source": {
       "start": {
-        "line": 46,
+        "line": 51,
         "col": 4
       },
       "end": {
-        "line": 46,
+        "line": 51,
         "col": 19
       }
     },
     "pc": 0
   },
   {
-    "teal": 261,
+    "teal": 283,
     "source": {
       "start": {
-        "line": 46,
+        "line": 51,
         "col": 28
       },
       "end": {
-        "line": 46,
+        "line": 51,
         "col": 43
       }
     },
     "pc": 0
   },
   {
-    "teal": 262,
+    "teal": 284,
     "source": {
       "start": {
-        "line": 46,
+        "line": 51,
         "col": 52
       },
       "end": {
-        "line": 46,
+        "line": 51,
         "col": 53
       }
     },
     "pc": 0
   },
   {
-    "teal": 263,
+    "teal": 285,
     "source": {
       "start": {
-        "line": 46,
+        "line": 51,
         "col": 50
       },
       "end": {
-        "line": 46,
+        "line": 51,
         "col": 51
       }
     },
     "pc": 0
   },
   {
-    "teal": 264,
+    "teal": 286,
     "source": {
       "start": {
-        "line": 46,
+        "line": 51,
         "col": 4
       },
       "end": {
-        "line": 46,
+        "line": 51,
         "col": 19
       }
     },
     "pc": 0
   },
   {
-    "teal": 269,
+    "teal": 291,
     "source": {
       "start": {
-        "line": 47,
+        "line": 52,
         "col": 8
       },
       "end": {
-        "line": 47,
+        "line": 52,
         "col": 15
       }
     },
     "pc": 0
   },
   {
-    "teal": 270,
+    "teal": 292,
     "source": {
       "start": {
-        "line": 47,
+        "line": 52,
         "col": 4
       },
       "end": {
-        "line": 49,
+        "line": 54,
         "col": 5
       }
     },
     "pc": 0
   },
   {
-    "teal": 275,
+    "teal": 297,
     "source": {
       "start": {
-        "line": 48,
+        "line": 53,
         "col": 6
       },
       "end": {
-        "line": 48,
+        "line": 53,
         "col": 23
       }
     },
     "pc": 0
   },
   {
-    "teal": 276,
+    "teal": 298,
     "source": {
       "start": {
-        "line": 48,
+        "line": 53,
         "col": 6
       },
       "end": {
-        "line": 48,
+        "line": 53,
         "col": 23
       }
     },
     "pc": 0
   },
   {
-    "teal": 277,
+    "teal": 299,
     "source": {
       "start": {
-        "line": 48,
+        "line": 53,
         "col": 32
       },
       "end": {
-        "line": 48,
+        "line": 53,
         "col": 49
       }
     },
     "pc": 0
   },
   {
-    "teal": 278,
+    "teal": 300,
     "source": {
       "start": {
-        "line": 48,
+        "line": 53,
         "col": 58
       },
       "end": {
-        "line": 48,
+        "line": 53,
         "col": 59
       }
     },
     "pc": 0
   },
   {
-    "teal": 279,
+    "teal": 301,
     "source": {
       "start": {
-        "line": 48,
+        "line": 53,
         "col": 56
       },
       "end": {
-        "line": 48,
+        "line": 53,
         "col": 57
       }
     },
     "pc": 0
   },
   {
-    "teal": 280,
+    "teal": 302,
     "source": {
       "start": {
-        "line": 48,
+        "line": 53,
         "col": 6
       },
       "end": {
-        "line": 48,
+        "line": 53,
         "col": 23
       }
     },
     "pc": 0
   },
   {
-    "teal": 282,
+    "teal": 304,
     "source": {
       "start": {
-        "line": 47,
+        "line": 52,
         "col": 4
       },
       "end": {
-        "line": 49,
+        "line": 54,
         "col": 5
       }
     },
     "pc": 0
   },
   {
-    "teal": 283,
+    "teal": 305,
     "source": {
       "start": {
-        "line": 44,
+        "line": 46,
         "col": 2
       },
       "end": {
-        "line": 50,
+        "line": 55,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 286,
+    "teal": 308,
     "source": {
       "start": {
-        "line": 52,
+        "line": 57,
         "col": 2
       },
       "end": {
-        "line": 54,
+        "line": 59,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 288,
+    "teal": 310,
     "source": {
       "start": {
-        "line": 52,
+        "line": 57,
         "col": 2
       },
       "end": {
-        "line": 54,
+        "line": 59,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 289,
+    "teal": 311,
     "source": {
       "start": {
-        "line": 52,
+        "line": 57,
         "col": 2
       },
       "end": {
-        "line": 54,
+        "line": 59,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 290,
+    "teal": 312,
     "source": {
       "start": {
-        "line": 52,
+        "line": 57,
         "col": 2
       },
       "end": {
-        "line": 54,
+        "line": 59,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 292,
+    "teal": 314,
     "source": {
       "start": {
-        "line": 52,
+        "line": 57,
         "col": 2
       },
       "end": {
-        "line": 54,
+        "line": 59,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 293,
+    "teal": 315,
     "source": {
       "start": {
-        "line": 52,
+        "line": 57,
         "col": 2
       },
       "end": {
-        "line": 54,
+        "line": 59,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 297,
+    "teal": 319,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 11
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 24
       }
     },
     "pc": 0
   },
   {
-    "teal": 298,
+    "teal": 320,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 11
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 24
       }
     },
     "pc": 0
   },
   {
-    "teal": 299,
+    "teal": 321,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 11
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 30
       }
     },
     "pc": 0
   },
   {
-    "teal": 300,
+    "teal": 322,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 301,
+    "teal": 323,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 302,
+    "teal": 324,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 303,
+    "teal": 325,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 304,
+    "teal": 326,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 305,
+    "teal": 327,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 306,
+    "teal": 328,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 307,
+    "teal": 329,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 308,
+    "teal": 330,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 309,
+    "teal": 331,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 310,
+    "teal": 332,
     "source": {
       "start": {
-        "line": 53,
+        "line": 58,
         "col": 4
       },
       "end": {
-        "line": 53,
+        "line": 58,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 313,
+    "teal": 335,
     "source": {
       "start": {
-        "line": 56,
+        "line": 61,
         "col": 2
       },
       "end": {
-        "line": 58,
+        "line": 63,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 315,
+    "teal": 337,
     "source": {
       "start": {
-        "line": 56,
+        "line": 61,
         "col": 2
       },
       "end": {
-        "line": 58,
+        "line": 63,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 316,
+    "teal": 338,
     "source": {
       "start": {
-        "line": 56,
+        "line": 61,
         "col": 2
       },
       "end": {
-        "line": 58,
+        "line": 63,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 317,
+    "teal": 339,
     "source": {
       "start": {
-        "line": 56,
+        "line": 61,
         "col": 2
       },
       "end": {
-        "line": 58,
+        "line": 63,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 319,
+    "teal": 341,
     "source": {
       "start": {
-        "line": 56,
+        "line": 61,
         "col": 2
       },
       "end": {
-        "line": 58,
+        "line": 63,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 320,
+    "teal": 342,
     "source": {
       "start": {
-        "line": 56,
+        "line": 61,
         "col": 2
       },
       "end": {
-        "line": 58,
+        "line": 63,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 324,
+    "teal": 346,
     "source": {
       "start": {
-        "line": 57,
+        "line": 62,
         "col": 11
       },
       "end": {
-        "line": 57,
+        "line": 62,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 325,
+    "teal": 347,
     "source": {
       "start": {
-        "line": 57,
+        "line": 62,
         "col": 11
       },
       "end": {
-        "line": 57,
+        "line": 62,
         "col": 31
       }
     },
     "pc": 0
   },
   {
-    "teal": 326,
+    "teal": 348,
     "source": {
       "start": {
-        "line": 57,
+        "line": 62,
         "col": 11
       },
       "end": {
-        "line": 57,
+        "line": 62,
         "col": 37
       }
     },
     "pc": 0
   },
   {
-    "teal": 327,
+    "teal": 349,
     "source": {
       "start": {
-        "line": 57,
+        "line": 62,
         "col": 4
       },
       "end": {
-        "line": 57,
+        "line": 62,
         "col": 38
       }
     },
     "pc": 0
   },
   {
-    "teal": 328,
+    "teal": 350,
     "source": {
       "start": {
-        "line": 57,
+        "line": 62,
         "col": 4
       },
       "end": {
-        "line": 57,
+        "line": 62,
         "col": 38
       }
     },
     "pc": 0
   },
   {
-    "teal": 329,
+    "teal": 351,
     "source": {
       "start": {
-        "line": 57,
+        "line": 62,
         "col": 4
       },
       "end": {
-        "line": 57,
+        "line": 62,
         "col": 38
       }
     },
     "pc": 0
   },
   {
-    "teal": 330,
+    "teal": 352,
     "source": {
       "start": {
-        "line": 57,
+        "line": 62,
         "col": 4
       },
       "end": {
-        "line": 57,
+        "line": 62,
         "col": 38
       }
     },
     "pc": 0
   },
   {
-    "teal": 331,
+    "teal": 353,
     "source": {
       "start": {
-        "line": 57,
+        "line": 62,
         "col": 4
       },
       "end": {
-        "line": 57,
+        "line": 62,
         "col": 38
       }
     },
     "pc": 0
   },
   {
-    "teal": 334,
+    "teal": 356,
     "source": {
       "start": {
-        "line": 60,
+        "line": 65,
         "col": 2
       },
       "end": {
-        "line": 62,
+        "line": 67,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 336,
+    "teal": 358,
     "source": {
       "start": {
-        "line": 60,
+        "line": 65,
         "col": 2
       },
       "end": {
-        "line": 62,
+        "line": 67,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 337,
+    "teal": 359,
     "source": {
       "start": {
-        "line": 60,
+        "line": 65,
         "col": 2
       },
       "end": {
-        "line": 62,
+        "line": 67,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 338,
+    "teal": 360,
     "source": {
       "start": {
-        "line": 60,
+        "line": 65,
         "col": 2
       },
       "end": {
-        "line": 62,
+        "line": 67,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 340,
+    "teal": 362,
     "source": {
       "start": {
-        "line": 60,
+        "line": 65,
         "col": 2
       },
       "end": {
-        "line": 62,
+        "line": 67,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 341,
+    "teal": 363,
     "source": {
       "start": {
-        "line": 60,
+        "line": 65,
         "col": 2
       },
       "end": {
-        "line": 62,
+        "line": 67,
         "col": 3
       }
     },
     "pc": 0
   },
   {
-    "teal": 345,
+    "teal": 367,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 12
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 29
       }
     },
     "pc": 0
   },
   {
-    "teal": 346,
+    "teal": 368,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 12
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 29
       }
     },
     "pc": 0
   },
   {
-    "teal": 347,
+    "teal": 369,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 12
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 35
       }
     },
     "pc": 0
   },
   {
-    "teal": 348,
+    "teal": 370,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 37
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 52
       }
     },
     "pc": 0
   },
   {
-    "teal": 349,
+    "teal": 371,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 37
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 52
       }
     },
     "pc": 0
   },
   {
-    "teal": 350,
+    "teal": 372,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 37
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 58
       }
     },
     "pc": 0
   },
   {
-    "teal": 351,
+    "teal": 373,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 37
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 58
       }
     },
     "pc": 0
   },
   {
-    "teal": 352,
+    "teal": 374,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 4
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 60
       }
     },
     "pc": 0
   },
   {
-    "teal": 353,
+    "teal": 375,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 4
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 60
       }
     },
     "pc": 0
   },
   {
-    "teal": 354,
+    "teal": 376,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 4
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 60
       }
     },
     "pc": 0
   },
   {
-    "teal": 355,
+    "teal": 377,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 4
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 60
       }
     },
     "pc": 0
   },
   {
-    "teal": 356,
+    "teal": 378,
     "source": {
       "start": {
-        "line": 61,
+        "line": 66,
         "col": 4
       },
       "end": {
-        "line": 61,
+        "line": 66,
         "col": 60
       }
     },
     "pc": 0
   },
   {
-    "teal": 358,
+    "teal": 380,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 359,
+    "teal": 381,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 360,
+    "teal": 382,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 361,
+    "teal": 383,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 362,
+    "teal": 384,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 364,
+    "teal": 386,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 365,
+    "teal": 387,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 366,
+    "teal": 388,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 367,
+    "teal": 389,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 368,
+    "teal": 390,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 369,
+    "teal": 391,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 370,
+    "teal": 392,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 371,
+    "teal": 393,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 372,
+    "teal": 394,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
     "pc": 0
   },
   {
-    "teal": 373,
+    "teal": 396,
     "source": {
       "start": {
         "line": 4,
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
+        "col": 1
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 397,
+    "source": {
+      "start": {
+        "line": 4,
+        "col": 0
+      },
+      "end": {
+        "line": 68,
+        "col": 1
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 398,
+    "source": {
+      "start": {
+        "line": 4,
+        "col": 0
+      },
+      "end": {
+        "line": 68,
+        "col": 1
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 399,
+    "source": {
+      "start": {
+        "line": 4,
+        "col": 0
+      },
+      "end": {
+        "line": 68,
+        "col": 1
+      }
+    },
+    "pc": 0
+  },
+  {
+    "teal": 400,
+    "source": {
+      "start": {
+        "line": 4,
+        "col": 0
+      },
+      "end": {
+        "line": 68,
         "col": 1
       }
     },
@@ -3129,7 +3409,7 @@
         "col": 0
       },
       "end": {
-        "line": 63,
+        "line": 68,
         "col": 1
       }
     },
diff --git a/tealscript/contracts/clients/DaoClient.ts b/tealscript/contracts/clients/DaoClient.ts
index 792bdef..e385b14 100644
--- a/tealscript/contracts/clients/DaoClient.ts
+++ b/tealscript/contracts/clients/DaoClient.ts
@@ -36,9 +36,9 @@ export const APP_SPEC: AppSpec = {
         "no_op": "CALL"
       }
     },
-    "register(asset)void": {
+    "optInToApplication(asset)void": {
       "call_config": {
-        "no_op": "CALL"
+        "opt_in": "CALL"
       }
     },
     "vote(bool,asset)void": {
@@ -71,7 +71,12 @@ export const APP_SPEC: AppSpec = {
   },
   "schema": {
     "local": {
-      "declared": {},
+      "declared": {
+        "inFavor": {
+          "type": "bytes",
+          "key": "inFavor"
+        }
+      },
       "reserved": {}
     },
     "global": {
@@ -102,12 +107,12 @@ export const APP_SPEC: AppSpec = {
       "num_uints": 3
     },
     "local": {
-      "num_byte_slices": 0,
+      "num_byte_slices": 1,
       "num_uints": 0
     }
   },
   "source": {
-    "approval": "I3ByYWdtYSB2ZXJzaW9uIDkKCi8vIFRoaXMgVEVBTCB3YXMgZ2VuZXJhdGVkIGJ5IFRFQUxTY3JpcHQgdjAuNDYuMQovLyBodHRwczovL2dpdGh1Yi5jb20vYWxnb3JhbmQtZGV2cmVsL1RFQUxTY3JpcHQKCi8vIFRoaXMgY29udHJhY3QgaXMgY29tcGxpYW50IHdpdGggYW5kL29yIGltcGxlbWVudHMgdGhlIGZvbGxvd2luZyBBUkNzOiBbIEFSQzQgXQoKLy8gVGhlIGZvbGxvd2luZyB0ZW4gbGluZXMgb2YgVEVBTCBoYW5kbGUgaW5pdGlhbCBwcm9ncmFtIGZsb3cKLy8gVGhpcyBwYXR0ZXJuIGlzIHVzZWQgdG8gbWFrZSBpdCBlYXN5IGZvciBhbnlvbmUgdG8gcGFyc2UgdGhlIHN0YXJ0IG9mIHRoZSBwcm9ncmFtIGFuZCBkZXRlcm1pbmUgaWYgYSBzcGVjaWZpYyBhY3Rpb24gaXMgYWxsb3dlZAovLyBIZXJlLCBhY3Rpb24gcmVmZXJzIHRvIHRoZSBPbkNvbXBsZXRlIGluIGNvbWJpbmF0aW9uIHdpdGggd2hldGhlciB0aGUgYXBwIGlzIGJlaW5nIGNyZWF0ZWQgb3IgY2FsbGVkCi8vIEV2ZXJ5IHBvc3NpYmxlIGFjdGlvbiBmb3IgdGhpcyBjb250cmFjdCBpcyByZXByZXNlbnRlZCBpbiB0aGUgc3dpdGNoIHN0YXRlbWVudAovLyBJZiB0aGUgYWN0aW9uIGlzIG5vdCBpbXBsbWVudGVkIGluIHRoZSBjb250cmFjdCwgaXRzIHJlcHNlY3RpdmUgYnJhbmNoIHdpbGwgYmUgIk5PVF9JTVBMTUVOVEVEIiB3aGljaCBqdXN0IGNvbnRhaW5zICJlcnIiCnR4biBBcHBsaWNhdGlvbklECmludCAwCj4KaW50IDYKKgp0eG4gT25Db21wbGV0aW9uCisKc3dpdGNoIGNyZWF0ZV9Ob09wIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgTk9UX0lNUExFTUVOVEVEIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgY2FsbF9Ob09wCgpOT1RfSU1QTEVNRU5URUQ6CgllcnIKCi8vIGNyZWF0ZUFwcGxpY2F0aW9uKHN0cmluZyl2b2lkCmFiaV9yb3V0ZV9jcmVhdGVBcHBsaWNhdGlvbjoKCS8vIHByb3Bvc2FsOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gZXhlY3V0ZSBjcmVhdGVBcHBsaWNhdGlvbihzdHJpbmcpdm9pZAoJY2FsbHN1YiBjcmVhdGVBcHBsaWNhdGlvbgoJaW50IDEKCXJldHVybgoKY3JlYXRlQXBwbGljYXRpb246Cglwcm90byAxIDAKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MTQKCS8vIHRoaXMucHJvcG9zYWwudmFsdWUgPSBwcm9wb3NhbAoJYnl0ZSAicHJvcG9zYWwiCglmcmFtZV9kaWcgLTEgLy8gcHJvcG9zYWw6IGJ5dGVzCglkdXAKCWxlbgoJaXRvYgoJZXh0cmFjdCA2IDIKCXN3YXAKCWNvbmNhdAoJYXBwX2dsb2JhbF9wdXQKCXJldHN1YgoKLy8gYm9vdHN0cmFwKCl1aW50NjQKYWJpX3JvdXRlX2Jvb3RzdHJhcDoKCWJ5dGUgMHggLy8gcHVzaCBlbXB0eSBieXRlcyB0byBmaWxsIHRoZSBzdGFjayBmcmFtZSBmb3IgdGhpcyBzdWJyb3V0aW5lJ3MgbG9jYWwgdmFyaWFibGVzCgoJLy8gZXhlY3V0ZSBib290c3RyYXAoKXVpbnQ2NAoJY2FsbHN1YiBib290c3RyYXAKCWludCAxCglyZXR1cm4KCmJvb3RzdHJhcDoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoxOAoJLy8gdmVyaWZ5IHNlbmRlcgoJdHhuIFNlbmRlcgoJdHhuYSBBcHBsaWNhdGlvbnMgMAoJYXBwX3BhcmFtc19nZXQgQXBwQ3JlYXRvcgoJYXNzZXJ0Cgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjE5CgkvLyBhc3NlcnQoIXRoaXMucmVnaXN0ZXJlZEFzYUlkLmV4aXN0cykKCXR4bmEgQXBwbGljYXRpb25zIDAKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWFwcF9nbG9iYWxfZ2V0X2V4Cglzd2FwCglwb3AKCSEKCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoyMAoJLy8gcmVnaXN0ZXJlZEFzYSA9IHNlbmRBc3NldENyZWF0aW9uKHsKCS8vICAgICAgIGNvbmZpZ0Fzc2V0VG90YWw6IDFfMDAwLAoJLy8gICAgICAgY29uZmlnQXNzZXRGcmVlemU6IHRoaXMuYXBwLmFkZHJlc3MsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBhY2ZnCglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjIxCgkvLyBjb25maWdBc3NldFRvdGFsOiAxXzAwMAoJaW50IDFfMDAwCglpdHhuX2ZpZWxkIENvbmZpZ0Fzc2V0VG90YWwKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjIKCS8vIGNvbmZpZ0Fzc2V0RnJlZXplOiB0aGlzLmFwcC5hZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9ucyAwCglhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCglhc3NlcnQKCWl0eG5fZmllbGQgQ29uZmlnQXNzZXRGcmVlemUKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglpdHhuIENyZWF0ZWRBc3NldElECglmcmFtZV9idXJ5IC0xIC8vIHJlZ2lzdGVyZWRBc2E6IGFzc2V0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjI0CgkvLyB0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSA9IHJlZ2lzdGVyZWRBc2EKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWZyYW1lX2RpZyAtMSAvLyByZWdpc3RlcmVkQXNhOiBhc3NldAoJYXBwX2dsb2JhbF9wdXQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjUKCS8vIHJldHVybiByZWdpc3RlcmVkQXNhOwoJZnJhbWVfZGlnIC0xIC8vIHJlZ2lzdGVyZWRBc2E6IGFzc2V0CglpdG9iCglieXRlIDB4MTUxZjdjNzUKCXN3YXAKCWNvbmNhdAoJbG9nCglyZXRzdWIKCi8vIHJlZ2lzdGVyKGFzc2V0KXZvaWQKLy8KLy8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCmFiaV9yb3V0ZV9yZWdpc3RlcjoKCS8vIHJlZ2lzdGVyZWRBU0E6IGFzc2V0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglidG9pCgl0eG5hcyBBc3NldHMKCgkvLyBleGVjdXRlIHJlZ2lzdGVyKGFzc2V0KXZvaWQKCWNhbGxzdWIgcmVnaXN0ZXIKCWludCAxCglyZXR1cm4KCnJlZ2lzdGVyOgoJcHJvdG8gMSAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjMwCgkvLyBhc3NlcnQodGhpcy50eG4uc2VuZGVyLmFzc2V0QmFsYW5jZSh0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSkgPT09IDApCgl0eG4gU2VuZGVyCglieXRlICJyZWdpc3RlcmVkQXNhSWQiCglhcHBfZ2xvYmFsX2dldAoJYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCglhc3NlcnQKCWludCAwCgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjMxCgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICB4ZmVyQXNzZXQ6IHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlLAoJLy8gICAgICAgYXNzZXRSZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgYXNzZXRBbW91bnQ6IDEsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozMgoJLy8geGZlckFzc2V0OiB0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZQoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJYXBwX2dsb2JhbF9nZXQKCWl0eG5fZmllbGQgWGZlckFzc2V0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjMzCgkvLyBhc3NldFJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozNAoJLy8gYXNzZXRBbW91bnQ6IDEKCWludCAxCglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozNgoJLy8gc2VuZEFzc2V0RnJlZXplKHsKCS8vICAgICAgIGZyZWV6ZUFzc2V0OiB0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSwKCS8vICAgICAgIGZyZWV6ZUFzc2V0QWNjb3VudDogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgZnJlZXplQXNzZXRGcm96ZW46IHRydWUsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBhZnJ6CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjM3CgkvLyBmcmVlemVBc3NldDogdGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWUKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWFwcF9nbG9iYWxfZ2V0CglpdHhuX2ZpZWxkIEZyZWV6ZUFzc2V0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjM4CgkvLyBmcmVlemVBc3NldEFjY291bnQ6IHRoaXMudHhuLnNlbmRlcgoJdHhuIFNlbmRlcgoJaXR4bl9maWVsZCBGcmVlemVBc3NldEFjY291bnQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MzkKCS8vIGZyZWV6ZUFzc2V0RnJvemVuOiB0cnVlCglpbnQgMQoJaXR4bl9maWVsZCBGcmVlemVBc3NldEZyb3plbgoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCXJldHN1YgoKLy8gdm90ZShhc3NldCxib29sKXZvaWQKLy8KLy8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCmFiaV9yb3V0ZV92b3RlOgoJLy8gcmVnaXN0ZXJlZEFTQTogYXNzZXQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWJ0b2kKCXR4bmFzIEFzc2V0cwoKCS8vIGluRmF2b3I6IGJvb2wKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWludCAwCglnZXRiaXQKCgkvLyBleGVjdXRlIHZvdGUoYXNzZXQsYm9vbCl2b2lkCgljYWxsc3ViIHZvdGUKCWludCAxCglyZXR1cm4KCnZvdGU6Cglwcm90byAyIDAKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6NDUKCS8vIGFzc2VydCh0aGlzLnR4bi5zZW5kZXIuYXNzZXRCYWxhbmNlKHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlKSA9PT0gMSkKCXR4biBTZW5kZXIKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWFwcF9nbG9iYWxfZ2V0Cglhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKCWFzc2VydAoJaW50IDEKCT09Cglhc3NlcnQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6NDYKCS8vIHRoaXMudm90ZXNUb3RhbC52YWx1ZSA9IHRoaXMudm90ZXNUb3RhbC52YWx1ZSArIDEKCWJ5dGUgInZvdGVzVG90YWwiCglieXRlICJ2b3Rlc1RvdGFsIgoJYXBwX2dsb2JhbF9nZXQKCWludCAxCgkrCglhcHBfZ2xvYmFsX3B1dAoKCS8vIGlmMF9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo0NwoJLy8gaW5GYXZvcgoJZnJhbWVfZGlnIC0xIC8vIGluRmF2b3I6IGJvb2wKCWJ6IGlmMF9lbmQKCgkvLyBpZjBfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjQ4CgkvLyB0aGlzLnZvdGVzSW5GYXZvci52YWx1ZSA9IHRoaXMudm90ZXNJbkZhdm9yLnZhbHVlICsgMQoJYnl0ZSAidm90ZXNJbkZhdm9yIgoJYnl0ZSAidm90ZXNJbkZhdm9yIgoJYXBwX2dsb2JhbF9nZXQKCWludCAxCgkrCglhcHBfZ2xvYmFsX3B1dAoKaWYwX2VuZDoKCXJldHN1YgoKLy8gZ2V0UHJvcG9zYWwoKXN0cmluZwphYmlfcm91dGVfZ2V0UHJvcG9zYWw6CgkvLyBleGVjdXRlIGdldFByb3Bvc2FsKClzdHJpbmcKCWNhbGxzdWIgZ2V0UHJvcG9zYWwKCWludCAxCglyZXR1cm4KCmdldFByb3Bvc2FsOgoJcHJvdG8gMCAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjUzCgkvLyByZXR1cm4gdGhpcy5wcm9wb3NhbC52YWx1ZTsKCWJ5dGUgInByb3Bvc2FsIgoJYXBwX2dsb2JhbF9nZXQKCWV4dHJhY3QgMiAwCglkdXAKCWxlbgoJaXRvYgoJZXh0cmFjdCA2IDIKCXN3YXAKCWNvbmNhdAoJYnl0ZSAweDE1MWY3Yzc1Cglzd2FwCgljb25jYXQKCWxvZwoJcmV0c3ViCgovLyBnZXRSZWdpc3RlcmVkQVNBKCl1aW50NjQKYWJpX3JvdXRlX2dldFJlZ2lzdGVyZWRBU0E6CgkvLyBleGVjdXRlIGdldFJlZ2lzdGVyZWRBU0EoKXVpbnQ2NAoJY2FsbHN1YiBnZXRSZWdpc3RlcmVkQVNBCglpbnQgMQoJcmV0dXJuCgpnZXRSZWdpc3RlcmVkQVNBOgoJcHJvdG8gMCAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjU3CgkvLyByZXR1cm4gdGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWU7CglieXRlICJyZWdpc3RlcmVkQXNhSWQiCglhcHBfZ2xvYmFsX2dldAoJaXRvYgoJYnl0ZSAweDE1MWY3Yzc1Cglzd2FwCgljb25jYXQKCWxvZwoJcmV0c3ViCgovLyBnZXRWb3RlcygpKHVpbnQ2NCx1aW50NjQpCmFiaV9yb3V0ZV9nZXRWb3RlczoKCS8vIGV4ZWN1dGUgZ2V0Vm90ZXMoKSh1aW50NjQsdWludDY0KQoJY2FsbHN1YiBnZXRWb3RlcwoJaW50IDEKCXJldHVybgoKZ2V0Vm90ZXM6Cglwcm90byAwIDAKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6NjEKCS8vIHJldHVybiBbdGhpcy52b3Rlc0luRmF2b3IudmFsdWUsIHRoaXMudm90ZXNUb3RhbC52YWx1ZV07CglieXRlICJ2b3Rlc0luRmF2b3IiCglhcHBfZ2xvYmFsX2dldAoJaXRvYgoJYnl0ZSAidm90ZXNUb3RhbCIKCWFwcF9nbG9iYWxfZ2V0CglpdG9iCgljb25jYXQKCWJ5dGUgMHgxNTFmN2M3NQoJc3dhcAoJY29uY2F0Cglsb2cKCXJldHN1YgoKY3JlYXRlX05vT3A6CgltZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKHN0cmluZyl2b2lkIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggYWJpX3JvdXRlX2NyZWF0ZUFwcGxpY2F0aW9uCgllcnIKCmNhbGxfTm9PcDoKCW1ldGhvZCAiYm9vdHN0cmFwKCl1aW50NjQiCgltZXRob2QgInJlZ2lzdGVyKGFzc2V0KXZvaWQiCgltZXRob2QgInZvdGUoYm9vbCxhc3NldCl2b2lkIgoJbWV0aG9kICJnZXRQcm9wb3NhbCgpc3RyaW5nIgoJbWV0aG9kICJnZXRSZWdpc3RlcmVkQVNBKCl1aW50NjQiCgltZXRob2QgImdldFZvdGVzKCkodWludDY0LHVpbnQ2NCkiCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAwCgltYXRjaCBhYmlfcm91dGVfYm9vdHN0cmFwIGFiaV9yb3V0ZV9yZWdpc3RlciBhYmlfcm91dGVfdm90ZSBhYmlfcm91dGVfZ2V0UHJvcG9zYWwgYWJpX3JvdXRlX2dldFJlZ2lzdGVyZWRBU0EgYWJpX3JvdXRlX2dldFZvdGVzCgllcnI=",
+    "approval": "I3ByYWdtYSB2ZXJzaW9uIDkKCi8vIFRoaXMgVEVBTCB3YXMgZ2VuZXJhdGVkIGJ5IFRFQUxTY3JpcHQgdjAuNDYuMQovLyBodHRwczovL2dpdGh1Yi5jb20vYWxnb3JhbmQtZGV2cmVsL1RFQUxTY3JpcHQKCi8vIFRoaXMgY29udHJhY3QgaXMgY29tcGxpYW50IHdpdGggYW5kL29yIGltcGxlbWVudHMgdGhlIGZvbGxvd2luZyBBUkNzOiBbIEFSQzQgXQoKLy8gVGhlIGZvbGxvd2luZyB0ZW4gbGluZXMgb2YgVEVBTCBoYW5kbGUgaW5pdGlhbCBwcm9ncmFtIGZsb3cKLy8gVGhpcyBwYXR0ZXJuIGlzIHVzZWQgdG8gbWFrZSBpdCBlYXN5IGZvciBhbnlvbmUgdG8gcGFyc2UgdGhlIHN0YXJ0IG9mIHRoZSBwcm9ncmFtIGFuZCBkZXRlcm1pbmUgaWYgYSBzcGVjaWZpYyBhY3Rpb24gaXMgYWxsb3dlZAovLyBIZXJlLCBhY3Rpb24gcmVmZXJzIHRvIHRoZSBPbkNvbXBsZXRlIGluIGNvbWJpbmF0aW9uIHdpdGggd2hldGhlciB0aGUgYXBwIGlzIGJlaW5nIGNyZWF0ZWQgb3IgY2FsbGVkCi8vIEV2ZXJ5IHBvc3NpYmxlIGFjdGlvbiBmb3IgdGhpcyBjb250cmFjdCBpcyByZXByZXNlbnRlZCBpbiB0aGUgc3dpdGNoIHN0YXRlbWVudAovLyBJZiB0aGUgYWN0aW9uIGlzIG5vdCBpbXBsbWVudGVkIGluIHRoZSBjb250cmFjdCwgaXRzIHJlcHNlY3RpdmUgYnJhbmNoIHdpbGwgYmUgIk5PVF9JTVBMTUVOVEVEIiB3aGljaCBqdXN0IGNvbnRhaW5zICJlcnIiCnR4biBBcHBsaWNhdGlvbklECmludCAwCj4KaW50IDYKKgp0eG4gT25Db21wbGV0aW9uCisKc3dpdGNoIGNyZWF0ZV9Ob09wIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgTk9UX0lNUExFTUVOVEVEIE5PVF9JTVBMRU1FTlRFRCBOT1RfSU1QTEVNRU5URUQgY2FsbF9Ob09wIGNhbGxfT3B0SW4KCk5PVF9JTVBMRU1FTlRFRDoKCWVycgoKLy8gY3JlYXRlQXBwbGljYXRpb24oc3RyaW5nKXZvaWQKYWJpX3JvdXRlX2NyZWF0ZUFwcGxpY2F0aW9uOgoJLy8gcHJvcG9zYWw6IHN0cmluZwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZXh0cmFjdCAyIDAKCgkvLyBleGVjdXRlIGNyZWF0ZUFwcGxpY2F0aW9uKHN0cmluZyl2b2lkCgljYWxsc3ViIGNyZWF0ZUFwcGxpY2F0aW9uCglpbnQgMQoJcmV0dXJuCgpjcmVhdGVBcHBsaWNhdGlvbjoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoxNgoJLy8gdGhpcy5wcm9wb3NhbC52YWx1ZSA9IHByb3Bvc2FsCglieXRlICJwcm9wb3NhbCIKCWZyYW1lX2RpZyAtMSAvLyBwcm9wb3NhbDogYnl0ZXMKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0CglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBib290c3RyYXAoKXVpbnQ2NAphYmlfcm91dGVfYm9vdHN0cmFwOgoJYnl0ZSAweCAvLyBwdXNoIGVtcHR5IGJ5dGVzIHRvIGZpbGwgdGhlIHN0YWNrIGZyYW1lIGZvciB0aGlzIHN1YnJvdXRpbmUncyBsb2NhbCB2YXJpYWJsZXMKCgkvLyBleGVjdXRlIGJvb3RzdHJhcCgpdWludDY0CgljYWxsc3ViIGJvb3RzdHJhcAoJaW50IDEKCXJldHVybgoKYm9vdHN0cmFwOgoJcHJvdG8gMSAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjIwCgkvLyB2ZXJpZnkgc2VuZGVyCgl0eG4gU2VuZGVyCgl0eG5hIEFwcGxpY2F0aW9ucyAwCglhcHBfcGFyYW1zX2dldCBBcHBDcmVhdG9yCglhc3NlcnQKCT09Cglhc3NlcnQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjEKCS8vIGFzc2VydCghdGhpcy5yZWdpc3RlcmVkQXNhSWQuZXhpc3RzKQoJdHhuYSBBcHBsaWNhdGlvbnMgMAoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJYXBwX2dsb2JhbF9nZXRfZXgKCXN3YXAKCXBvcAoJIQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjIyCgkvLyByZWdpc3RlcmVkQXNhID0gc2VuZEFzc2V0Q3JlYXRpb24oewoJLy8gICAgICAgY29uZmlnQXNzZXRUb3RhbDogMV8wMDAsCgkvLyAgICAgICBjb25maWdBc3NldEZyZWV6ZTogdGhpcy5hcHAuYWRkcmVzcywKCS8vICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGFjZmcKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjMKCS8vIGNvbmZpZ0Fzc2V0VG90YWw6IDFfMDAwCglpbnQgMV8wMDAKCWl0eG5fZmllbGQgQ29uZmlnQXNzZXRUb3RhbAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoyNAoJLy8gY29uZmlnQXNzZXRGcmVlemU6IHRoaXMuYXBwLmFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25zIDAKCWFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKCWFzc2VydAoJaXR4bl9maWVsZCBDb25maWdBc3NldEZyZWV6ZQoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCWl0eG4gQ3JlYXRlZEFzc2V0SUQKCWZyYW1lX2J1cnkgLTEgLy8gcmVnaXN0ZXJlZEFzYTogYXNzZXQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MjYKCS8vIHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlID0gcmVnaXN0ZXJlZEFzYQoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJZnJhbWVfZGlnIC0xIC8vIHJlZ2lzdGVyZWRBc2E6IGFzc2V0CglhcHBfZ2xvYmFsX3B1dAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czoyNwoJLy8gcmV0dXJuIHJlZ2lzdGVyZWRBc2E7CglmcmFtZV9kaWcgLTEgLy8gcmVnaXN0ZXJlZEFzYTogYXNzZXQKCWl0b2IKCWJ5dGUgMHgxNTFmN2M3NQoJc3dhcAoJY29uY2F0Cglsb2cKCXJldHN1YgoKLy8gb3B0SW5Ub0FwcGxpY2F0aW9uKGFzc2V0KXZvaWQKLy8KLy8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCmFiaV9yb3V0ZV9vcHRJblRvQXBwbGljYXRpb246CgkvLyByZWdpc3RlcmVkQVNBOiBhc3NldAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoJdHhuYXMgQXNzZXRzCgoJLy8gZXhlY3V0ZSBvcHRJblRvQXBwbGljYXRpb24oYXNzZXQpdm9pZAoJY2FsbHN1YiBvcHRJblRvQXBwbGljYXRpb24KCWludCAxCglyZXR1cm4KCm9wdEluVG9BcHBsaWNhdGlvbjoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozMgoJLy8gYXNzZXJ0KHRoaXMudHhuLnNlbmRlci5hc3NldEJhbGFuY2UodGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWUpID09PSAwKQoJdHhuIFNlbmRlcgoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJYXBwX2dsb2JhbF9nZXQKCWFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQoJYXNzZXJ0CglpbnQgMAoJPT0KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozMwoJLy8gc2VuZEFzc2V0VHJhbnNmZXIoewoJLy8gICAgICAgeGZlckFzc2V0OiB0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSwKCS8vICAgICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMudHhuLnNlbmRlciwKCS8vICAgICAgIGFzc2V0QW1vdW50OiAxLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYXhmZXIKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MzQKCS8vIHhmZXJBc3NldDogdGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWUKCWJ5dGUgInJlZ2lzdGVyZWRBc2FJZCIKCWFwcF9nbG9iYWxfZ2V0CglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozNQoJLy8gYXNzZXRSZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyCgl0eG4gU2VuZGVyCglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MzYKCS8vIGFzc2V0QW1vdW50OiAxCglpbnQgMQoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6MzgKCS8vIHNlbmRBc3NldEZyZWV6ZSh7CgkvLyAgICAgICBmcmVlemVBc3NldDogdGhpcy5yZWdpc3RlcmVkQXNhSWQudmFsdWUsCgkvLyAgICAgICBmcmVlemVBc3NldEFjY291bnQ6IHRoaXMudHhuLnNlbmRlciwKCS8vICAgICAgIGZyZWV6ZUFzc2V0RnJvemVuOiB0cnVlLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYWZyegoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czozOQoJLy8gZnJlZXplQXNzZXQ6IHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlCglieXRlICJyZWdpc3RlcmVkQXNhSWQiCglhcHBfZ2xvYmFsX2dldAoJaXR4bl9maWVsZCBGcmVlemVBc3NldAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo0MAoJLy8gZnJlZXplQXNzZXRBY2NvdW50OiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgRnJlZXplQXNzZXRBY2NvdW50CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjQxCgkvLyBmcmVlemVBc3NldEZyb3plbjogdHJ1ZQoJaW50IDEKCWl0eG5fZmllbGQgRnJlZXplQXNzZXRGcm96ZW4KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglyZXRzdWIKCi8vIHZvdGUoYXNzZXQsYm9vbCl2b2lkCi8vCi8vIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwphYmlfcm91dGVfdm90ZToKCS8vIHJlZ2lzdGVyZWRBU0E6IGFzc2V0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglidG9pCgl0eG5hcyBBc3NldHMKCgkvLyBpbkZhdm9yOiBib29sCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglpbnQgMAoJZ2V0Yml0CgoJLy8gZXhlY3V0ZSB2b3RlKGFzc2V0LGJvb2wpdm9pZAoJY2FsbHN1YiB2b3RlCglpbnQgMQoJcmV0dXJuCgp2b3RlOgoJcHJvdG8gMiAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjQ3CgkvLyBhc3NlcnQodGhpcy50eG4uc2VuZGVyLmFzc2V0QmFsYW5jZSh0aGlzLnJlZ2lzdGVyZWRBc2FJZC52YWx1ZSkgPT09IDEpCgl0eG4gU2VuZGVyCglieXRlICJyZWdpc3RlcmVkQXNhSWQiCglhcHBfZ2xvYmFsX2dldAoJYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCglhc3NlcnQKCWludCAxCgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjQ4CgkvLyBhc3NlcnQoIXRoaXMuaW5GYXZvcih0aGlzLnR4bi5zZW5kZXIpLmV4aXN0cykKCXR4biBTZW5kZXIKCXR4bmEgQXBwbGljYXRpb25zIDAKCWJ5dGUgImluRmF2b3IiCglhcHBfbG9jYWxfZ2V0X2V4Cglzd2FwCglwb3AKCSEKCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo0OQoJLy8gdGhpcy5pbkZhdm9yKHRoaXMudHhuLnNlbmRlcikudmFsdWUgPSBpbkZhdm9yCgl0eG4gU2VuZGVyCglieXRlICJpbkZhdm9yIgoJZnJhbWVfZGlnIC0xIC8vIGluRmF2b3I6IGJvb2wKCWJ5dGUgMHgwMAoJaW50IDAKCXVuY292ZXIgMgoJc2V0Yml0CglhcHBfbG9jYWxfcHV0CgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjUxCgkvLyB0aGlzLnZvdGVzVG90YWwudmFsdWUgPSB0aGlzLnZvdGVzVG90YWwudmFsdWUgKyAxCglieXRlICJ2b3Rlc1RvdGFsIgoJYnl0ZSAidm90ZXNUb3RhbCIKCWFwcF9nbG9iYWxfZ2V0CglpbnQgMQoJKwoJYXBwX2dsb2JhbF9wdXQKCgkvLyBpZjBfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvZGFvLmFsZ28udHM6NTIKCS8vIGluRmF2b3IKCWZyYW1lX2RpZyAtMSAvLyBpbkZhdm9yOiBib29sCglieiBpZjBfZW5kCgoJLy8gaWYwX2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo1MwoJLy8gdGhpcy52b3Rlc0luRmF2b3IudmFsdWUgPSB0aGlzLnZvdGVzSW5GYXZvci52YWx1ZSArIDEKCWJ5dGUgInZvdGVzSW5GYXZvciIKCWJ5dGUgInZvdGVzSW5GYXZvciIKCWFwcF9nbG9iYWxfZ2V0CglpbnQgMQoJKwoJYXBwX2dsb2JhbF9wdXQKCmlmMF9lbmQ6CglyZXRzdWIKCi8vIGdldFByb3Bvc2FsKClzdHJpbmcKYWJpX3JvdXRlX2dldFByb3Bvc2FsOgoJLy8gZXhlY3V0ZSBnZXRQcm9wb3NhbCgpc3RyaW5nCgljYWxsc3ViIGdldFByb3Bvc2FsCglpbnQgMQoJcmV0dXJuCgpnZXRQcm9wb3NhbDoKCXByb3RvIDAgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo1OAoJLy8gcmV0dXJuIHRoaXMucHJvcG9zYWwudmFsdWU7CglieXRlICJwcm9wb3NhbCIKCWFwcF9nbG9iYWxfZ2V0CglleHRyYWN0IDIgMAoJZHVwCglsZW4KCWl0b2IKCWV4dHJhY3QgNiAyCglzd2FwCgljb25jYXQKCWJ5dGUgMHgxNTFmN2M3NQoJc3dhcAoJY29uY2F0Cglsb2cKCXJldHN1YgoKLy8gZ2V0UmVnaXN0ZXJlZEFTQSgpdWludDY0CmFiaV9yb3V0ZV9nZXRSZWdpc3RlcmVkQVNBOgoJLy8gZXhlY3V0ZSBnZXRSZWdpc3RlcmVkQVNBKCl1aW50NjQKCWNhbGxzdWIgZ2V0UmVnaXN0ZXJlZEFTQQoJaW50IDEKCXJldHVybgoKZ2V0UmVnaXN0ZXJlZEFTQToKCXByb3RvIDAgMAoKCS8vIGNvbnRyYWN0cy9kYW8uYWxnby50czo2MgoJLy8gcmV0dXJuIHRoaXMucmVnaXN0ZXJlZEFzYUlkLnZhbHVlOwoJYnl0ZSAicmVnaXN0ZXJlZEFzYUlkIgoJYXBwX2dsb2JhbF9nZXQKCWl0b2IKCWJ5dGUgMHgxNTFmN2M3NQoJc3dhcAoJY29uY2F0Cglsb2cKCXJldHN1YgoKLy8gZ2V0Vm90ZXMoKSh1aW50NjQsdWludDY0KQphYmlfcm91dGVfZ2V0Vm90ZXM6CgkvLyBleGVjdXRlIGdldFZvdGVzKCkodWludDY0LHVpbnQ2NCkKCWNhbGxzdWIgZ2V0Vm90ZXMKCWludCAxCglyZXR1cm4KCmdldFZvdGVzOgoJcHJvdG8gMCAwCgoJLy8gY29udHJhY3RzL2Rhby5hbGdvLnRzOjY2CgkvLyByZXR1cm4gW3RoaXMudm90ZXNJbkZhdm9yLnZhbHVlLCB0aGlzLnZvdGVzVG90YWwudmFsdWVdOwoJYnl0ZSAidm90ZXNJbkZhdm9yIgoJYXBwX2dsb2JhbF9nZXQKCWl0b2IKCWJ5dGUgInZvdGVzVG90YWwiCglhcHBfZ2xvYmFsX2dldAoJaXRvYgoJY29uY2F0CglieXRlIDB4MTUxZjdjNzUKCXN3YXAKCWNvbmNhdAoJbG9nCglyZXRzdWIKCmNyZWF0ZV9Ob09wOgoJbWV0aG9kICJjcmVhdGVBcHBsaWNhdGlvbihzdHJpbmcpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoIGFiaV9yb3V0ZV9jcmVhdGVBcHBsaWNhdGlvbgoJZXJyCgpjYWxsX05vT3A6CgltZXRob2QgImJvb3RzdHJhcCgpdWludDY0IgoJbWV0aG9kICJ2b3RlKGJvb2wsYXNzZXQpdm9pZCIKCW1ldGhvZCAiZ2V0UHJvcG9zYWwoKXN0cmluZyIKCW1ldGhvZCAiZ2V0UmVnaXN0ZXJlZEFTQSgpdWludDY0IgoJbWV0aG9kICJnZXRWb3RlcygpKHVpbnQ2NCx1aW50NjQpIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggYWJpX3JvdXRlX2Jvb3RzdHJhcCBhYmlfcm91dGVfdm90ZSBhYmlfcm91dGVfZ2V0UHJvcG9zYWwgYWJpX3JvdXRlX2dldFJlZ2lzdGVyZWRBU0EgYWJpX3JvdXRlX2dldFZvdGVzCgllcnIKCmNhbGxfT3B0SW46CgltZXRob2QgIm9wdEluVG9BcHBsaWNhdGlvbihhc3NldCl2b2lkIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggYWJpX3JvdXRlX29wdEluVG9BcHBsaWNhdGlvbgoJZXJy",
     "clear": "I3ByYWdtYSB2ZXJzaW9uIDkKaW50IDE="
   },
   "contract": {
@@ -139,7 +144,7 @@ export const APP_SPEC: AppSpec = {
         }
       },
       {
-        "name": "register",
+        "name": "optInToApplication",
         "args": [
           {
             "name": "registeredASA",
@@ -272,7 +277,7 @@ export type Dao = {
       argsTuple: []
       returns: bigint
     }>
-    & Record<'register(asset)void' | 'register', {
+    & Record<'optInToApplication(asset)void' | 'optInToApplication', {
       argsObj: {
         registeredASA: number | bigint
       }
@@ -315,6 +320,9 @@ export type Dao = {
       'votesTotal'?: IntegerState
       'votesInFavor'?: IntegerState
     }
+    local: {
+      'inFavor'?: BinaryState
+    }
   }
 }
 /**
@@ -389,30 +397,38 @@ export abstract class DaoCallFactory {
   }
 
   /**
-   * Constructs a no op call for the bootstrap()uint64 ABI method
-   *
-   * @param args Any args for the contract call
-   * @param params Any additional parameters for the call
-   * @returns A TypedCallParams object for the call
+   * Gets available optIn call factories
    */
-  static bootstrap(args: MethodArgs<'bootstrap()uint64'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
+  static get optIn() {
     return {
-      method: 'bootstrap()uint64' as const,
-      methodArgs: Array.isArray(args) ? args : [],
-      ...params,
+      /**
+       * Constructs an opt in call for the Dao smart contract using the optInToApplication(asset)void ABI method
+       *
+       * @param args Any args for the contract call
+       * @param params Any additional parameters for the call
+       * @returns A TypedCallParams object for the call
+       */
+      optInToApplication(args: MethodArgs<'optInToApplication(asset)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
+        return {
+          method: 'optInToApplication(asset)void' as const,
+          methodArgs: Array.isArray(args) ? args : [args.registeredASA],
+          ...params,
+        }
+      },
     }
   }
+
   /**
-   * Constructs a no op call for the register(asset)void ABI method
+   * Constructs a no op call for the bootstrap()uint64 ABI method
    *
    * @param args Any args for the contract call
    * @param params Any additional parameters for the call
    * @returns A TypedCallParams object for the call
    */
-  static register(args: MethodArgs<'register(asset)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
+  static bootstrap(args: MethodArgs<'bootstrap()uint64'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
     return {
-      method: 'register(asset)void' as const,
-      methodArgs: Array.isArray(args) ? args : [args.registeredASA],
+      method: 'bootstrap()uint64' as const,
+      methodArgs: Array.isArray(args) ? args : [],
       ...params,
     }
   }
@@ -561,6 +577,25 @@ export class DaoClient {
     }
   }
 
+  /**
+   * Gets available optIn methods
+   */
+  public get optIn() {
+    const $this = this
+    return {
+      /**
+       * Opts the user into an existing instance of the Dao smart contract using the optInToApplication(asset)void ABI method.
+       *
+       * @param args The arguments for the smart contract call
+       * @param params Any additional parameters for the call
+       * @returns The optIn result
+       */
+      async optInToApplication(args: MethodArgs<'optInToApplication(asset)void'>, params: AppClientCallCoreParams = {}): Promise<AppCallTransactionResultOfType<MethodReturn<'optInToApplication(asset)void'>>> {
+        return $this.mapReturnValue(await $this.appClient.optIn(DaoCallFactory.optIn.optInToApplication(args, params)))
+      },
+    }
+  }
+
   /**
    * Makes a clear_state call to an existing instance of the Dao smart contract.
    *
@@ -582,17 +617,6 @@ export class DaoClient {
     return this.call(DaoCallFactory.bootstrap(args, params))
   }
 
-  /**
-   * Calls the register(asset)void ABI method.
-   *
-   * @param args The arguments for the contract call
-   * @param params Any additional parameters for the call
-   * @returns The result of the call
-   */
-  public register(args: MethodArgs<'register(asset)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
-    return this.call(DaoCallFactory.register(args, params))
-  }
-
   /**
    * Calls the vote(bool,asset)void ABI method.
    *
@@ -702,6 +726,20 @@ export class DaoClient {
     }
   }
 
+  /**
+   * Returns the smart contract's local state wrapped in a strongly typed accessor with options to format the stored value
+   *
+   * @param account The address of the account for which to read local state from
+   */
+  public async getLocalState(account: string | SendTransactionFrom): Promise<Dao['state']['local']> {
+    const state = await this.appClient.getLocalState(account)
+    return {
+      get inFavor() {
+        return DaoClient.getBinaryState(state, 'inFavor')
+      },
+    }
+  }
+
   public compose(): DaoComposer {
     const client = this
     const atc = new AtomicTransactionComposer()
@@ -713,11 +751,6 @@ export class DaoClient {
         resultMappers.push(undefined)
         return this
       },
-      register(args: MethodArgs<'register(asset)void'>, params?: AppClientCallCoreParams & CoreAppCallArgs) {
-        promiseChain = promiseChain.then(() => client.register(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
-        resultMappers.push(undefined)
-        return this
-      },
       vote(args: MethodArgs<'vote(bool,asset)void'>, params?: AppClientCallCoreParams & CoreAppCallArgs) {
         promiseChain = promiseChain.then(() => client.vote(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
         resultMappers.push(undefined)
@@ -738,6 +771,16 @@ export class DaoClient {
         resultMappers.push(undefined)
         return this
       },
+      get optIn() {
+        const $this = this
+        return {
+          optInToApplication(args: MethodArgs<'optInToApplication(asset)void'>, params?: AppClientCallCoreParams) {
+            promiseChain = promiseChain.then(() => client.optIn.optInToApplication(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
+            resultMappers.push(undefined)
+            return $this
+          },
+        }
+      },
       clearState(args?: BareCallArgs & AppClientCallCoreParams & CoreAppCallArgs) {
         promiseChain = promiseChain.then(() => client.clearState({...args, sendParams: {...args?.sendParams, skipSending: true, atc}}))
         resultMappers.push(undefined)
@@ -772,15 +815,6 @@ export type DaoComposer<TReturns extends [...any[]] = []> = {
    */
   bootstrap(args: MethodArgs<'bootstrap()uint64'>, params?: AppClientCallCoreParams & CoreAppCallArgs): DaoComposer<[...TReturns, MethodReturn<'bootstrap()uint64'>]>
 
-  /**
-   * Calls the register(asset)void ABI method.
-   *
-   * @param args The arguments for the contract call
-   * @param params Any additional parameters for the call
-   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
-   */
-  register(args: MethodArgs<'register(asset)void'>, params?: AppClientCallCoreParams & CoreAppCallArgs): DaoComposer<[...TReturns, MethodReturn<'register(asset)void'>]>
-
   /**
    * Calls the vote(bool,asset)void ABI method.
    *
@@ -817,6 +851,20 @@ export type DaoComposer<TReturns extends [...any[]] = []> = {
    */
   getVotes(args: MethodArgs<'getVotes()(uint64,uint64)'>, params?: AppClientCallCoreParams & CoreAppCallArgs): DaoComposer<[...TReturns, MethodReturn<'getVotes()(uint64,uint64)'>]>
 
+  /**
+   * Gets available optIn methods
+   */
+  readonly optIn: {
+    /**
+     * Opts the user into an existing instance of the Dao smart contract using the optInToApplication(asset)void ABI method.
+     *
+     * @param args The arguments for the smart contract call
+     * @param params Any additional parameters for the call
+     * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
+     */
+    optInToApplication(args: MethodArgs<'optInToApplication(asset)void'>, params?: AppClientCallCoreParams): DaoComposer<[...TReturns, MethodReturn<'optInToApplication(asset)void'>]>
+  }
+
   /**
    * Makes a clear_state call to an existing instance of the Dao smart contract.
    *
diff --git a/tealscript/contracts/dao.algo.ts b/tealscript/contracts/dao.algo.ts
index aac7289..14a86a8 100644
--- a/tealscript/contracts/dao.algo.ts
+++ b/tealscript/contracts/dao.algo.ts
@@ -10,6 +10,8 @@ class Dao extends Contract {
 
   votesInFavor = GlobalStateKey<number>();
 
+  inFavor = LocalStateKey<boolean>();
+
   createApplication(proposal: string): void {
     this.proposal.value = proposal;
   }
@@ -26,7 +28,7 @@ class Dao extends Contract {
   }
 
   // eslint-disable-next-line no-unused-vars
-  register(registeredASA: Asset): void {
+  optInToApplication(registeredASA: Asset): void {
     assert(this.txn.sender.assetBalance(this.registeredAsaId.value) === 0);
     sendAssetTransfer({
       xferAsset: this.registeredAsaId.value,
@@ -43,6 +45,9 @@ class Dao extends Contract {
   // eslint-disable-next-line no-unused-vars
   vote(inFavor: boolean, registeredASA: Asset): void {
     assert(this.txn.sender.assetBalance(this.registeredAsaId.value) === 1);
+    assert(!this.inFavor(this.txn.sender).exists);
+    this.inFavor(this.txn.sender).value = inFavor;
+
     this.votesTotal.value = this.votesTotal.value + 1;
     if (inFavor) {
       this.votesInFavor.value = this.votesInFavor.value + 1;
